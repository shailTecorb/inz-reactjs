(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2703],{82846:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var r=n(92809),o=n(30266),a=n(809),c=n.n(a),u=n(67294),i=n(89665),s=n.n(i),l=n(4878),_=n(11163),d=n(92253),p=n(85893);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=function(){(0,_.useRouter)();var e=(0,u.useState)(!1),t=e[0],n=e[1],r=(0,u.useState)([]),a=r[0],i=r[1],f=(0,u.useContext)(l.B).visaId,v=(0,u.useState)(),m=v[0],b=v[1],x=(0,u.useState)(""),y=x[0],g=x[1];(0,u.useEffect)((function(){w()}),[]);var w=function(){var e=(0,o.Z)(c().mark((function e(){var t,n,r,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null===f||void 0===f?void 0:f.filter((function(e){return 1==e.isChecked})).map((function(e,t){return e._id})),e.next=3,(0,d.li)(t);case 3:n=e.sent,b(t),200==n.code&&(o=null===n||void 0===n||null===(r=n.result)||void 0===r?void 0:r.map((function(e,t){return h(h({},e),{},{isChecked:!1})})),i(o));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=(a.reduce((function(e,t){return t.isChecked&&e.push(t),e}),[]),function(){var e=(0,o.Z)(c().mark((function e(){var t,n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=a.reduce((function(e,t){return t.isChecked&&e.push(t),e}),[])).length>0)){e.next=10;break}return n=t.map((function(e){return e._id})),r=localStorage.role,e.next=6,(0,d.u7)(m,n,r);case 6:200==e.sent.code&&"liaAgent"==localStorage.role&&(window.location.href="/LIA/workingHours"),e.next=11;break;case 10:g("Please select appointment booking mode");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),k=function(e,r){var o=e.target,c=(o.title,o.visaTypeId,o.checked),u=o.name;if("allSelect"===u){var s=a.map((function(e){return h(h({},e),{},{isChecked:c})}));i(s),n(!t),g("")}else{var l=a.map((function(e,t){return h(h({},e),{},{isChecked:t===r?!e.isChecked:e.isChecked})}));i(l),g("");var _=l.filter((function(e){return e.isChecked}));console.log(_.length==a.length),_.length==a.length?(console.log("hit"),n(!0)):n(!1)}},j=a.map((function(e,t){return(0,p.jsx)("div",{className:"form-group ".concat(s().fromGroup),children:(0,p.jsxs)("div",{className:s().selectinputBox,children:[(0,p.jsx)("input",{id:t,checked:null===e||void 0===e?void 0:e.isChecked,onChange:function(e){return k(e,t)},name:"checkbox",type:"checkbox"}),(0,p.jsx)("label",{for:t,className:s().checkboxLabel,children:e.title})]})})}));return(0,p.jsx)(u.Fragment,{children:(0,p.jsx)("div",{className:s().contentWrapper,children:(0,p.jsx)("div",{className:"container-fuild",children:(0,p.jsx)("div",{className:"row",children:(0,p.jsxs)("div",{className:"col-md-9 m-auto",children:[(0,p.jsx)("h3",{className:"",children:"Appointment Booking Mode "}),(0,p.jsxs)("div",{className:s().visaStatus,children:[(0,p.jsx)("span",{style:{color:"red",marginLeft:"55px",fontSize:"20px"},children:y}),(0,p.jsxs)("div",{className:"row",children:[(0,p.jsx)("div",{className:"col-12",children:(0,p.jsxs)("div",{className:s().visaStatusDiv,children:[(0,p.jsx)("div",{className:"form-group ".concat(s().fromGroup),children:(0,p.jsxs)("div",{className:s().selectinputBox,children:[(0,p.jsx)("input",{id:"checkbox1",checked:t,name:"allSelect",type:"checkbox",onChange:function(e){return k(e,null)}}),(0,p.jsx)("label",{for:"checkbox1",className:s().checkboxLabel,children:"Select All Appointment Mode"})]})}),j]})}),(0,p.jsx)("div",{className:"col-md-12 text-right ".concat(s().buttonGroup),children:(0,p.jsx)("button",{onClick:q,children:"Save"})})]})]})]})})})})})},m=(n(53431),n(54865),function(){var e=(0,u.useState)(!1),t=(e[0],e[1]),n=(0,u.useState)(!1),r=(n[0],n[1]);return(0,u.useEffect)((function(){"businessOwner"==localStorage.role&&"true"==localStorage.approved?(t(!0),window.location.href="/busines/owner/dashboard"):"liaAgent"==localStorage.role&&"true"==localStorage.approved&&r(!0)})),(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(v,{})})})},96502:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/busines/owner/visa/appointmentMode",function(){return n(82846)}])},89665:function(e){e.exports={DashboardpageWrap:"query_DashboardpageWrap__OOAVE",pageWrap:"query_pageWrap__26-zG",contentWrapper:"query_contentWrapper__3_zIA",tableArea:"query_tableArea__33VWn",Btn1:"query_Btn1__3QUMI",Btn2:"query_Btn2__3UBgh",Btn3:"query_Btn3__1Gx_t",Btn4:"query_Btn4__LfX1e",Btn5:"query_Btn5__31xXH",BtnWithoutImg:"query_BtnWithoutImg__3VpwM",Nodata:"query_Nodata__28Uxq",searchSection:"query_searchSection__1VC3M",BtnGroup:"query_BtnGroup__2maZ5",btnBox:"query_btnBox__PE6HP",dropDown:"query_dropDown__2x5N6",dropDownBtn:"query_dropDownBtn__1YcwJ",Arrow:"query_Arrow__B77Qw",dropDown1:"query_dropDown1__3oVq_",clientStatus:"query_clientStatus__3Ylo0",NavTabs:"query_NavTabs__1cCPe",active:"query_active__3v4-C",TabContent:"query_TabContent__nWqsm",buttonGroup:"query_buttonGroup__1cRR_",downloadBtn:"query_downloadBtn__q4G8a",noDataSection:"query_noDataSection__169rq",staffImage:"query_staffImage__i8tfD",visaStatus:"query_visaStatus__4Yyz1",visaStatusDiv:"query_visaStatusDiv__1X1fX",fromGroup:"query_fromGroup__3cXT7",selectinputBox:"query_selectinputBox__3-l50",checkboxLabel:"query_checkboxLabel__yMdVn",submitBtn:"query_submitBtn__1R00a",templateBtnGroup:"query_templateBtnGroup__1gfcf"}}},function(e){e.O(0,[9774,2888,179],(function(){return t=96502,e(e.s=t);var t}));var t=e.O();_N_E=t}]);