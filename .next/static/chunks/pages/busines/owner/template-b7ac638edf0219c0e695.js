(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1045],{48214:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});n(92809);var s=n(30266),a=n(809),r=n.n(a),c=n(67294),o=n(89665),l=n.n(o),i=(n(19755),n(83253)),d=n.n(i),u=n(96883),p=n.n(u),m=n(67018),h=n(85893),x=function(e){var t=e.open,n=e.openModal,a=e.closeModal,o=e.type,l=e.tempType,i=e.templateType,u=e.setTemplateType,x=e.templateTitle,_=e.setTemplateTitle,f=e.content,j=e.setContent,v=e.isView,g=(e.setIsView,(0,c.useState)(5)),w=g[0],y=(g[1],(0,c.useState)(1)),b=y[0],N=(y[1],(0,c.useState)("businessOwner")),S=(N[0],N[1],(0,c.useState)({templateType:"",templateTitle:"",content:"",hash:""})),T=S[0],B=(S[1],(0,c.useState)([])),q=B[0],k=B[1],C=(0,c.useState)(""),D=C[0],G=C[1],I=function(){var e=(0,s.Z)(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),i){e.next=5;break}G("Please Select Template Type"),e.next=18;break;case 5:if(x){e.next=9;break}G("Please Enter Title"),e.next=18;break;case 9:if(f){e.next=13;break}G("Please Enter Content"),e.next=18;break;case 13:return e.next=15,(0,m.pY)(x,localStorage.role,f,i);case 15:n=e.sent,console.log(n),200==n.code&&(a(),window.location.reload());case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=(0,s.Z)(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.um)(w,b);case 2:t=e.sent,console.log(t),200==t.code&&(console.log(t),k(t.result));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){W()}),[]),(0,h.jsxs)(c.Fragment,{children:[(0,h.jsx)("button",{onClick:n,className:"".concat(p().SaveBtn," ").concat("setup"==l?"mt-0 mb-0":""),children:"+ Add Template"}),(0,h.jsxs)(d(),{className:"".concat(p().customeModal," ").concat(p().customeTemplateModal,"  ").concat(p().customeAccountModal),isOpen:t,style:{overflowY:"scroll"},children:[(0,h.jsx)("div",{class:p().modalHeader,children:(0,h.jsxs)("div",{class:"row mx-0",children:[(0,h.jsx)("div",{class:"col-10",children:(0,h.jsxs)("h4",{children:["Add New Template ",(0,h.jsx)("span",{style:{color:"red"},children:D})]})}),(0,h.jsxs)("div",{class:"col-2",children:[(0,h.jsx)("button",{className:p().closeBtn,onClick:a,children:(0,h.jsx)("img",{src:"/images/popupcross.svg"})}),(0,h.jsx)("br",{})]})]})}),(0,h.jsxs)("div",{class:"row mx-0",children:[(0,h.jsx)("div",{class:"col-8",children:(0,h.jsx)("div",{className:p().genrateLink,children:(0,h.jsx)("div",{className:p().genrateLinkSec,children:(0,h.jsxs)("form",{children:[(0,h.jsxs)("div",{className:"form-group px-0 ".concat(p().customeFormGroup),children:[(0,h.jsx)("h3",{children:"Template Type"}),(0,h.jsxs)("select",{class:"form-control",name:"templateType",size:"0",value:i,disabled:"view"==o,onChange:function(e){return u(e.target.value)},children:[(0,h.jsx)("option",{value:"",children:" Select"}),q.map((function(e){return(0,h.jsx)("option",{value:e.typeName,children:e.typeName},e.id)}))]})]}),(0,h.jsxs)("div",{className:"form-group px-0 ".concat(p().customeFormGroup),children:[(0,h.jsx)("h3",{children:"Template Title"}),(0,h.jsx)("input",{type:"text",id:"contact",name:"templateTitle",value:x,readOnly:"view"==o,onChange:function(e){return _(e.target.value)},placeholder:"Title",autoComplete:"off",className:"form-control ".concat(p().stepbarInput)})]}),(0,h.jsxs)("div",{className:"form-group px-0 ".concat(p().customeFormGroup),children:[(0,h.jsx)("h3",{children:"Content"}),(0,h.jsx)("textarea",{type:"text",id:"content",name:"content",readOnly:"view"==o,value:f+T.hash,onChange:function(e){j(e.target.value)},placeholder:"Write here",className:"form-control ".concat(p().stepbarInput)})]}),(0,h.jsx)("div",{class:"row",children:(0,h.jsx)("div",{class:"col-12",children:v?"":(0,h.jsx)("button",{className:p().sendBtn,onClick:I,children:"Save"})})})]})})})}),(0,h.jsx)("div",{className:"col-4",children:(0,h.jsxs)("div",{className:p().templateSec,children:[(0,h.jsx)("h4",{children:"Agreements/Templates"}),(0,h.jsx)("div",{className:p().templateList,children:(0,h.jsx)("div",{className:"row mx-0",children:(0,h.jsx)("div",{className:"col-12",children:[{id:1,title:"@fullname",isSelected:!1},{id:2,title:"@firstname",isSelected:!1},{id:3,title:"@lastname",isSelected:!1},{id:4,title:"@dob",isSelected:!1},{id:5,title:"@mobilenumber",isSelected:!1},{id:6,title:"@address",isSelected:!1},{id:7,title:"@zipcode",isSelected:!1},{id:8,title:"@doa",isSelected:!1},{id:9,title:"@city",isSelected:!1},{id:10,title:"@country",isSelected:!1}].map((function(e,t){return(0,h.jsx)("a",{style:{cursor:"pointer"},children:e.title},t)}))})})})]})})]})]})]})},_=n(30381),f=n.n(_);var j=function(){var e=(0,c.useState)(""),t=e[0],n=e[1],a=(0,c.useState)([]),o=a[0],i=a[1],d=(0,c.useState)(!1),u=(d[0],d[1],(0,c.useState)(!1)),p=u[0],_=u[1],j=(0,c.useState)(!1),v=j[0],g=j[1],w=(0,c.useState)({checkbox2:!1,checkbox3:!1}),y=(w[0],w[1],(0,c.useState)("")),b=(y[0],y[1]),N=(0,c.useState)(""),S=N[0],T=N[1],B=(0,c.useState)(""),q=B[0],k=B[1],C=(0,c.useState)(""),D=C[0],G=C[1],I=(0,c.useState)(""),W=I[0],A=I[1];(0,c.useEffect)((function(){M()}),[]);var M=function(){var e=(0,s.Z)(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 1,20,b(localStorage.role),e.next=5,(0,m.Qi)(20,1,localStorage.role);case 5:200==(t=e.sent).code?i(t.result):T(t.message);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(e){_(!0)},V=function(){var e=(0,s.Z)(r().mark((function e(t,s){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(),n(""),k(t.templateType),G(t.tittle),A(t.content),e.next=7,(0,m.dM)(t._id,t.tittle,t.templateType);case 7:a=e.sent,console.log(t),console.log(a),200==a.code&&(console.log(a),window.location.href="/");case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),P=function(){var e=(0,s.Z)(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(t.templateType),G(t.tittle),A(t.content),e.next=5,(0,m.Tm)(localStorage.role,t._id);case 5:200==e.sent.code&&M();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=(0,s.Z)(r().mark((function e(t,s){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(s),g(!0),E(),k(t.templateType),G(t.tittle),A(t.content),e.next=8,(0,m.ej)(t._id,localStorage.role);case 8:200==(a=e.sent).code&&console.log(a);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Y=function(e){e.preventDefault(),window.print()},F=null===o||void 0===o?void 0:o.map((function(e,t){return(0,h.jsxs)("tr",{children:[(0,h.jsxs)("td",{children:[e.tittle," "]}),(0,h.jsx)("td",{children:f()(e.createdAt).format("D MMM  YYYY")}),(0,h.jsxs)("td",{children:[(0,h.jsx)("button",{className:"".concat(l().Btn1," ").concat(l().BtnWithoutImg),onClick:function(){O(e,"view")},children:"View"}),(0,h.jsx)("button",{className:"".concat(l().Btn5," ").concat(l().BtnWithoutImg),onClick:function(){V(e,"")},children:"Update"}),(0,h.jsx)("button",{className:"".concat(l().Btn3," ").concat(l().BtnWithoutImg),onClick:function(){P(e)},children:"Duplicate"}),(0,h.jsx)("button",{className:"".concat(l().Btn4," ").concat(l().BtnWithoutImg),children:"Documents"}),(0,h.jsx)("button",{className:"".concat(l().Btn5," ").concat(l().BtnWithoutImg),onClick:Y,children:"Print"})]})]})}));return(0,h.jsx)(c.Fragment,{children:(0,h.jsx)("div",{className:l().contentWrapper,children:(0,h.jsx)("div",{className:"container-fuild",children:(0,h.jsxs)("div",{className:"row",children:[(0,h.jsx)("div",{className:"col-md-8",children:(0,h.jsxs)("div",{className:"row",children:[(0,h.jsx)("div",{className:"col-md-9",children:(0,h.jsx)("h3",{children:"Template"})}),(0,h.jsx)("div",{className:"col-md-3 pr-0 ".concat(l().ButtonGroup),children:(0,h.jsx)(x,{styles:l(),closeModal:function(){_(!1),g(!1)},open:p,templateType:q,setTemplateType:k,templateTitle:D,setTemplateTitle:G,content:W,setContent:A,openModal:E,isView:v,type:t,setIsView:g})}),(0,h.jsx)("div",{className:"col-12",children:(0,h.jsx)("div",{className:"row",children:(0,h.jsx)("div",{className:"col-12 ".concat(l().tableArea),children:(0,h.jsxs)("div",{className:"table-responsive ",children:[(0,h.jsxs)("table",{class:"table table-striped",children:[(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{children:"Title"}),(0,h.jsx)("th",{children:"Updated On"}),(0,h.jsx)("th",{children:"Action"})]})}),(0,h.jsx)("tbody",{children:F})]}),S&&(0,h.jsxs)("h6",{className:l().Nodata,children:[" ",S]})]})})})})]})}),(0,h.jsxs)("div",{className:"col-md-4 ".concat(l().templateBtnGroup),children:[(0,h.jsx)("h4",{children:"Agreements/Templates"}),(0,h.jsxs)("button",{className:l().btnBox,children:[(0,h.jsx)("img",{src:"/images/letter.svg",className:"mr-2"}),(0,h.jsx)("span",{children:"Letter"})," ",(0,h.jsx)("img",{src:"/images/blueleftarrow.svg",style:{float:"right",marginTop:"10px"}})]}),(0,h.jsxs)("button",{className:l().btnBox,children:[(0,h.jsx)("img",{src:"/images/emailtemplate.svg",className:"mr-2"}),(0,h.jsx)("span",{children:"Email Templates"})," ",(0,h.jsx)("img",{src:"/images/blueleftarrow.svg",style:{float:"right",marginTop:"10px"}})]}),(0,h.jsxs)("button",{className:l().btnBox,children:[(0,h.jsx)("img",{src:"/images/invoice.svg",className:"mr-2"}),(0,h.jsx)("span",{children:"Invoices"})," ",(0,h.jsx)("img",{src:"/images/blueleftarrow.svg",style:{float:"right",marginTop:"10px"}})]}),(0,h.jsxs)("button",{className:l().btnBox,children:[(0,h.jsx)("img",{src:"/images/filenote.svg",className:"mr-2"}),(0,h.jsx)("span",{children:"Files Notes"})," ",(0,h.jsx)("img",{src:"/images/blueleftarrow.svg",style:{float:"right",marginTop:"10px"}})]}),(0,h.jsxs)("div",{className:"dropdown ".concat(l().dropDown1),children:[(0,h.jsxs)("button",{className:"btn btn-warning dropdown-toggle ".concat(l().dropDownBtn),type:"button","data-toggle":"dropdown",children:[" ",(0,h.jsx)("span",{children:"Document Centre"}),(0,h.jsx)("img",{src:"/images/blueleftarrow.svg",style:{float:"right",marginTop:"10px"}})]}),(0,h.jsxs)("ul",{className:"dropdown-menu",children:[(0,h.jsx)("li",{children:(0,h.jsx)("a",{href:"#",children:"Phantom"})}),(0,h.jsx)("li",{children:(0,h.jsx)("a",{href:"#",children:"Cluster"})})]})]}),(0,h.jsxs)("div",{className:"dropdown ".concat(l().dropDown1),children:[(0,h.jsxs)("button",{className:"btn btn-warning dropdown-toggle ".concat(l().dropDownBtn),type:"button","data-toggle":"dropdown",children:[(0,h.jsx)("span",{children:"Notification Templates"}),(0,h.jsx)("img",{src:"/images/blueleftarrow.svg",style:{float:"right",marginTop:"10px"}})]}),(0,h.jsxs)("ul",{className:"dropdown-menu",children:[(0,h.jsx)("li",{children:(0,h.jsx)("a",{href:"/busines/owner/visa/visaStatusNotification",children:"VISA Status Notification"})}),(0,h.jsx)("li",{children:(0,h.jsx)("a",{href:"#",children:"Reminders"})}),(0,h.jsx)("li",{children:(0,h.jsx)("a",{href:"#",children:"Birthday Greetings"})})]})]})]})]})})})})},v=(n(54865),n(53431),function(){var e=(0,c.useState)(!1),t=(e[0],e[1]);return(0,c.useEffect)((function(){"liaAgent"==localStorage.role?t(!0):t(!1)}),[]),(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(j,{})})})},99156:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/busines/owner/template",function(){return n(48214)}])},89665:function(e){e.exports={DashboardpageWrap:"query_DashboardpageWrap__OOAVE",pageWrap:"query_pageWrap__26-zG",contentWrapper:"query_contentWrapper__3_zIA",tableArea:"query_tableArea__33VWn",Btn1:"query_Btn1__3QUMI",Btn2:"query_Btn2__3UBgh",Btn3:"query_Btn3__1Gx_t",Btn4:"query_Btn4__LfX1e",Btn5:"query_Btn5__31xXH",BtnWithoutImg:"query_BtnWithoutImg__3VpwM",Nodata:"query_Nodata__28Uxq",searchSection:"query_searchSection__1VC3M",BtnGroup:"query_BtnGroup__2maZ5",btnBox:"query_btnBox__PE6HP",dropDown:"query_dropDown__2x5N6",dropDownBtn:"query_dropDownBtn__1YcwJ",Arrow:"query_Arrow__B77Qw",dropDown1:"query_dropDown1__3oVq_",clientStatus:"query_clientStatus__3Ylo0",NavTabs:"query_NavTabs__1cCPe",active:"query_active__3v4-C",TabContent:"query_TabContent__nWqsm",buttonGroup:"query_buttonGroup__1cRR_",downloadBtn:"query_downloadBtn__q4G8a",noDataSection:"query_noDataSection__169rq",staffImage:"query_staffImage__i8tfD",visaStatus:"query_visaStatus__4Yyz1",visaStatusDiv:"query_visaStatusDiv__1X1fX",fromGroup:"query_fromGroup__3cXT7",selectinputBox:"query_selectinputBox__3-l50",checkboxLabel:"query_checkboxLabel__yMdVn",submitBtn:"query_submitBtn__1R00a",templateBtnGroup:"query_templateBtnGroup__1gfcf"}}},function(e){e.O(0,[4885,571,9774,2888,179],(function(){return t=99156,e(e.s=t);var t}));var t=e.O();_N_E=t}]);