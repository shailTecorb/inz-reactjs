(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3825],{30168:function(e,t,n){"use strict";var r=n(92809),a=n(85893);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.placeholder_name,n=e.type_name,r=e.class_name,o=e.readOnly,s=e.input_name,i=e.onChange,u=e.value,l=e.maxLength,d=e.onKeyPress,_=e.disabled,p=e.register;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("input",c({type:n,placeholder:t,onChange:i,value:u,name:s,maxLength:l,autoComplete:"off","aria-describedby":"emailHelp ",className:r||"",onKeyPress:d,disabled:_,readOnly:o},p))})}},4770:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(67294),a=n(83789),o=n(92809),c=n(30266),s=n(809),i=n.n(s),u=n(30168),l=n(89665),d=n.n(l),_=n(11163),p=(n(92253),n(67018)),h=n(89700),f=n(37041),m=n(4878),v=n(85893);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=function(e){var t=e.type,n=(0,_.useRouter)(),o=(0,r.useState)(!1),s=o[0],l=o[1],y=(0,r.useState)(""),b=y[0],g=y[1],j=(0,r.useState)([]),w=j[0],N=j[1],O=(0,r.useState)(0),k=O[0],q=O[1],C=(0,r.useState)(0),S=C[0],B=C[1],P=(0,r.useState)(""),D=P[0],G=P[1],I=(0,r.useState)(!1),L=I[0],E=I[1],W=(0,r.useState)(!1),A=W[0],Z=W[1],T=(0,r.useContext)(m.B).setCountryId;(0,r.useEffect)((function(){V()}),[]);var X,V=function(){if(z(),localStorage.countryId){var e=JSON.parse(localStorage.countryId);q(e.length)}},z=function(){var e=(0,c.Z)(i().mark((function e(){var n,r,a,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E(!0),"liaAgent"!=localStorage.role){e.next=8;break}if("update"!=t){e.next=8;break}return n=w,e.next=6,(0,p.Cp)(b);case 6:200==(r=e.sent).code&&(B(r.totalCountry),E(!1),c=null===r||void 0===r||null===(a=r.result)||void 0===a?void 0:a.map((function(e,t){return x(x({},e),{},{isChecked:e.select})})),N(c),(null===(o=r.result)||void 0===o?void 0:o.filter((function(e){return e.select})).length)==n.length?l(!0):l(!1));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=(0,c.Z)(i().mark((function e(t){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=(r=null===w||void 0===w?void 0:w.reduce((function(e,t){return t.isChecked&&e.push(t._id),e}),[])).length){e.next=6;break}t.preventDefault(),G("Please Select Country"),e.next=12;break;case 6:if(Z(!0),"liaAgent"!=localStorage.role||""!=!r){e.next=12;break}return e.next=10,(0,p.GU)(r);case 10:200==(a=e.sent).code?(Z(!1),T(r),n.push("/LIA/dashboard")):400==a.code&&(G(a.message),Z(!1));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=null===w||void 0===w?void 0:w.filter((function(e){return""==b||e.countryName.toLowerCase().includes(b.toLowerCase())?e:void 0}));return X=(null===M||void 0===M?void 0:M.length)>0?null===M||void 0===M?void 0:M.map((function(e,t){return(0,v.jsx)("div",{className:"form-group ".concat(d().fromGroup),children:(0,v.jsxs)("div",{className:d().selectinputBox,children:[(0,v.jsx)("input",{id:e._id,name:"checkbox",type:"checkbox",checked:!0===e.isChecked?e._id:"",onChange:function(t){!function(e,t){for(var n=w,r=0;r<w.length;r++)n[r]._id===e?n[r].isChecked=!n[r].isChecked:n[r].isChecked=n[r].isChecked;var o=n.map((function(t){return console.log(t._id==e),x(x({},t),{},{isChecked:t._id==e?!t.isChecked:t.isChecked})})),c=o.filter((function(e){return e.isChecked}));console.log(o,c),N((0,a.Z)(n)),l(!1),G("")}(e._id,e.isChecked),e.isChecked?q(k+1):q(k-1)}}),(0,v.jsx)("label",{for:e._id,className:d().checkboxLabel,children:e.countryName})]})})})):[],(0,v.jsx)(r.Fragment,{children:(0,v.jsx)("div",{className:d().contentWrapper,children:(0,v.jsx)("div",{className:"container-fuild",children:(0,v.jsx)("div",{className:"row",children:(0,v.jsxs)("div",{className:"col-md-9 m-auto",children:[(0,v.jsx)("h3",{className:"",children:" Countries I'm workiing for "}),(0,v.jsxs)("div",{className:d().visaStatus,children:[X.length>0?(0,v.jsx)("div",{className:"row",children:(0,v.jsx)("div",{className:"col-md-8 m-auto  ".concat(d().clientStatus),children:(0,v.jsxs)("ul",{children:[(0,v.jsxs)("li",{children:["Total Selected Countries ",(0,v.jsx)("span",{children:k})]}),(0,v.jsxs)("li",{children:["Not Selected Countries ",(0,v.jsxs)("span",{children:[S-k," "]})]})]})})}):"",(0,v.jsxs)("span",{style:{color:"red",marginLeft:"178px"},children:[" ",D]}),(0,v.jsx)("div",{className:"row mt-3",children:(0,v.jsx)("div",{className:"col-md-8 m-auto",children:(0,v.jsx)("div",{className:d().searchSection,children:(0,v.jsx)("div",{className:"input-group",children:(0,v.jsx)(u.Z,{type_name:"",placeholder_name:"Search by name, id, or internal",inputId:"",input_name:"",class_name:"form-control",value:b,onChange:function(e){g(e.target.value)}})})})})}),(0,v.jsxs)("div",{className:"row",children:[(0,v.jsx)("div",{className:"col-md-8 m-auto",children:(0,v.jsxs)("div",{className:d().visaStatusDiv,children:[(0,v.jsx)("div",{className:"form-group ".concat(d().fromGroup),children:X.length>0&&0==b.length?(0,v.jsxs)("div",{className:d().selectinputBox,children:[(0,v.jsx)("input",{id:"allselect",name:"allselect",type:"checkbox",checked:s,onChange:function(e){!function(e,t){var n=e.target,r=n.name;if(n.checked,"allselect"==r){var a=null===w||void 0===w?void 0:w.map((function(e){return x(x({},e),{},{isChecked:!s})}));N(a),l(!s),s?(q(0),G("")):s||q(a.length)}}(e)}}),(0,v.jsx)("label",{for:"allselect",className:d().checkboxLabel,children:"Select all countries"})]}):""}),L?(0,v.jsx)(h.Z,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:open,children:(0,v.jsx)(f.Z,{color:"inherit"})}):X.length>0?X:(0,v.jsx)("p",{className:d().Nodata,children:" No data found"})]})}),X.length>0?(0,v.jsx)("div",{className:"col-md-7 text-right  m-auto ".concat(d().buttonGroup),children:A?(0,v.jsx)("button",{disabled:!0,className:"mt-5",children:" Loading... "}):(0,v.jsxs)("button",{onClick:U,className:"mt-5",children:["update"==t?"Update":"Next"," "]})}):""]})]})]})})})})})},g=function(){return(0,v.jsx)("div",{children:(0,v.jsx)(b,{type:"update"})})}},54404:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/LIA/country",function(){return n(4770)}])},89665:function(e){e.exports={DashboardpageWrap:"query_DashboardpageWrap__OOAVE",pageWrap:"query_pageWrap__26-zG",contentWrapper:"query_contentWrapper__3_zIA",tableArea:"query_tableArea__33VWn",Btn1:"query_Btn1__3QUMI",Btn2:"query_Btn2__3UBgh",Btn3:"query_Btn3__1Gx_t",Btn4:"query_Btn4__LfX1e",Btn5:"query_Btn5__31xXH",BtnWithoutImg:"query_BtnWithoutImg__3VpwM",Nodata:"query_Nodata__28Uxq",searchSection:"query_searchSection__1VC3M",BtnGroup:"query_BtnGroup__2maZ5",btnBox:"query_btnBox__PE6HP",dropDown:"query_dropDown__2x5N6",dropDownBtn:"query_dropDownBtn__1YcwJ",Arrow:"query_Arrow__B77Qw",dropDown1:"query_dropDown1__3oVq_",clientStatus:"query_clientStatus__3Ylo0",NavTabs:"query_NavTabs__1cCPe",active:"query_active__3v4-C",TabContent:"query_TabContent__nWqsm",buttonGroup:"query_buttonGroup__1cRR_",downloadBtn:"query_downloadBtn__q4G8a",noDataSection:"query_noDataSection__169rq",staffImage:"query_staffImage__i8tfD",visaStatus:"query_visaStatus__4Yyz1",visaStatusDiv:"query_visaStatusDiv__1X1fX",fromGroup:"query_fromGroup__3cXT7",selectinputBox:"query_selectinputBox__3-l50",checkboxLabel:"query_checkboxLabel__yMdVn",submitBtn:"query_submitBtn__1R00a",templateBtnGroup:"query_templateBtnGroup__1gfcf"}}},function(e){e.O(0,[9163,5568,9774,2888,179],(function(){return t=54404,e(e.s=t);var t}));var t=e.O();_N_E=t}]);