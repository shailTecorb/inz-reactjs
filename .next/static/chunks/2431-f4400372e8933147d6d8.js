(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2431],{30168:function(e,t,n){"use strict";var r=n(92809),a=n(85893);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.placeholder_name,n=e.type_name,r=e.class_name,s=e.readOnly,c=e.input_name,l=e.onChange,i=e.value,u=e.maxLength,d=e.onKeyPress,p=e.disabled,v=e.register;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("input",o({type:n,placeholder:t,onChange:l,value:i,name:c,maxLength:u,autoComplete:"off","aria-describedby":"emailHelp ",className:r||"",onKeyPress:d,disabled:p,readOnly:s},v))})}},32431:function(e,t,n){"use strict";var r=n(92809),a=n(30266),s=n(809),o=n.n(s),c=n(30168),l=n(67294),i=n(89665),u=n.n(i),d=n(11163),p=n(67018),v=n(85893);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){e.type,(0,d.useRouter)();var t=(0,l.useState)(""),n=t[0],r=t[1],s=(0,l.useState)(""),i=s[0],h=s[1],m=(0,l.useState)([]),f=m[0],y=m[1],x=(0,l.useState)([]),j=x[0],g=x[1],b=(0,l.useState)(!1),N=b[0],w=b[1],S=(0,l.useState)(0),q=S[0],O=S[1],B=(0,l.useState)(0),C=B[0],D=B[1],k=(0,l.useState)(0),P=k[0],T=k[1],G=(0,l.useState)(0),I=G[0],W=G[1],E=(0,l.useState)(""),L=(E[0],E[1],(0,l.useState)(!1)),Z=L[0],A=L[1],V=(0,l.useState)(!1),M=(V[0],V[1],(0,l.useState)(!0)),F=M[0],R=M[1],X=(0,l.useState)(!1),U=X[0],z=X[1],H=(0,l.useState)(""),Q=H[0],Y=H[1];(0,l.useEffect)((function(){$()}),[]);var K,J=function(){var e=(0,a.Z)(o().mark((function e(t){var n,r,a,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),Y(t),e.next=4,(0,p.AG)(t);case 4:200==(n=e.sent).code&&(g(n.result),W(n.result.length),(c=null===(r=n.result)||void 0===r?void 0:r.filter((function(e){return e.select}))).length==(null===(a=n.result)||void 0===a?void 0:a.length)?z(!0):c.length==(null===(s=n.result)||void 0===s?void 0:s.length)&&z(!1),T(c.length));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=(0,a.Z)(o().mark((function e(){var t,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.Cp)();case 2:200==(t=e.sent).code&&(r=null===(n=t.result)||void 0===n?void 0:n.filter((function(e){return e.select})),y(r),D(t.totalCountry),O(r.length));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=null===j||void 0===j?void 0:j.filter((function(e){var t,n;return console.log(e,"flterData"),""==i||null!==e&&void 0!==e&&null!==(t=e.visaTypeId)&&void 0!==t&&null!==(n=t.visaType)&&void 0!==n&&n.toLowerCase().includes(i.toLowerCase())?e:void 0}));K=ee.length>0?null===ee||void 0===ee?void 0:ee.map((function(e,t){var n,r;return(0,v.jsx)("div",{className:"form-group ".concat(u().fromGroup),children:(0,v.jsxs)("div",{className:u().selectinputBox,children:[(0,v.jsx)("input",{id:t,name:"checkbox",type:"checkbox",checked:e.selected,value:null===(n=e.visaTypeId)||void 0===n?void 0:n._id,onChange:function(t){ne(e)}}),(0,v.jsx)("label",{for:t,className:u().checkboxLabel,children:null===e||void 0===e||null===(r=e.visaTypeId)||void 0===r?void 0:r.visaType})]})})})):[];var te,ne=function(){var e=(0,a.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=null===j||void 0===j?void 0:j.reduce((function(e,n){var r,a;return console.log(n,"curr"),(null===(r=n.visaTypeId)||void 0===r?void 0:r._id)==(null===t||void 0===t||null===(a=t.visaTypeId)||void 0===a?void 0:a._id)&&(n.selected=!n.selected),e.push(n),e}),[]),g(n),r=n.reduce((function(e,t){return t.selected&&e.push(t),e}),[]),T(r.length),r.length!==j.length?z(!1):r.length==j.length&&z(!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=(0,a.Z)(o().mark((function e(){var t,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],null===j||void 0===j||j.map((function(e){e.selected&&t.push(e.visaTypeId)})),n={visaTypes:[{countryId:Q,visaTypeId:t}]},0===t.length){e.next=12;break}return A(!0),e.next=7,(0,p.rQ)(n);case 7:r=e.sent,A(!1),200==r.code?w(!1):setErrorMsg(null===r||void 0===r?void 0:r.message),e.next=13;break;case 12:setErrorMsg("Please select at least one VISA type");case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=null===f||void 0===f?void 0:f.filter((function(e){return""==n||e.countryName.toLowerCase().includes(n.toLowerCase())?e:void 0}));return te=(null===ae||void 0===ae?void 0:ae.length)>0?null===ae||void 0===ae?void 0:ae.map((function(e,t){return(0,v.jsx)("div",{className:"form-group ".concat(u().fromGroup),children:(0,v.jsx)("div",{className:u().selectinputBox,children:(0,v.jsx)("ul",{style:{listStyle:"none"},children:(0,v.jsxs)("li",{style:{cursor:"pointer"},onClick:function(){J(e._id)},children:[(null===e||void 0===e?void 0:e.countryName)+" >"," "]})})})})})):[],(0,v.jsx)(l.Fragment,{children:(0,v.jsx)("div",{className:u().contentWrapper,children:(0,v.jsx)("div",{className:"container-fuild",children:(0,v.jsx)("div",{className:"row",children:(0,v.jsxs)("div",{className:"col-md-9 m-auto",children:[(0,v.jsx)("h3",{className:"",children:" Countries "}),(0,v.jsxs)("div",{className:u().visaStatus,children:[te.length>0?(0,v.jsx)("div",{className:"row",children:(0,v.jsx)("div",{className:"col-md-8 m-auto  ".concat(u().clientStatus),children:(0,v.jsxs)("ul",{children:[(0,v.jsx)("li",{children:N?(0,v.jsxs)("span",{children:["Total Selected Visa Type ",P," "]}):(0,v.jsxs)("span",{children:[" Total Selected Countries ",q]})}),(0,v.jsx)("li",{children:N?(0,v.jsxs)("span",{children:[" Total Not Selected Visa Type ",I-P," "]}):(0,v.jsxs)("span",{children:[" Not Selected Countries ",C-q," "]})})]})})}):"",N?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"row",children:(0,v.jsx)("div",{className:"col-md-7",children:(0,v.jsx)("div",{className:u().searchSection,children:(0,v.jsxs)("div",{className:"input-group",children:[(0,v.jsx)(c.Z,{type_name:"",placeholder_name:"Search by name, id, or internal",inputId:"",input_name:"",class_name:"form-control",value:i,onChange:function(e){h(e.target.value)}}),(0,v.jsx)("div",{className:"input-group-append",children:(0,v.jsx)("a",{className:"btn btn-secondary",children:(0,v.jsx)("button",{disabled:!0,children:(0,v.jsx)("i",{className:"fa fa-search"})})})})]})})})}),(0,v.jsx)("br",{}),(0,v.jsxs)("div",{className:"row",children:[(0,v.jsx)("div",{className:"col-12",children:K.length>0?(0,v.jsxs)("div",{className:u().visaStatusDiv,children:[0==i.length?(0,v.jsx)("div",{className:"form-group ".concat(u().fromGroup),children:(0,v.jsxs)("div",{className:u().selectinputBox,children:[(0,v.jsx)("input",{id:"allselect",name:"allselect",type:"checkbox",checked:U,onChange:function(e){!function(e){R(!F);var t=j.map((function(e){return _(_({},e),{},{selected:F})}));g(t),z(F),T(F?j.length:0)}()}}),(0,v.jsx)("label",{for:"allselect",className:u().checkboxLabel,children:"Select All"})]})}):"",K]}):0!==(null===j||void 0===j?void 0:j.length)?(0,v.jsx)("h6",{style:{color:"red"},children:"No Data Found.. "}):""}),(0,v.jsx)("div",{className:"col-md-12 text-right ".concat(u().buttonGroup),children:(0,v.jsxs)("button",{disabled:Z,onClick:re,className:u().SandBtn,children:[Z&&(0,v.jsx)("i",{className:"fa fa-spinner fa-spin",style:{marginRight:"5px"}}),Z&&(0,v.jsx)("span",{children:"Wait"}),!Z&&(0,v.jsx)("span",{children:"Update"})]})})]})]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"row mt-3",children:(0,v.jsx)("div",{className:"col-md-8 m-auto",children:(0,v.jsx)("div",{className:u().searchSection,children:(0,v.jsx)("div",{className:"input-group",children:(0,v.jsx)(c.Z,{type_name:"",placeholder_name:"Search by name, id, or internal",inputId:"",input_name:"",class_name:"form-control",value:n,onChange:function(e){r(e.target.value)}})})})})}),(0,v.jsx)("div",{className:"row",children:(0,v.jsx)("div",{className:"col-md-8 m-auto",children:(0,v.jsx)("div",{className:u().visaStatusDiv,children:(0,v.jsx)("div",{className:"form-group ".concat(u().fromGroup),children:te.length>0?te:(0,v.jsx)("p",{className:u().Nodata,children:" No data found"})})})})})]})]})]})})})})})}},89665:function(e){e.exports={DashboardpageWrap:"query_DashboardpageWrap__OOAVE",pageWrap:"query_pageWrap__26-zG",contentWrapper:"query_contentWrapper__3_zIA",tableArea:"query_tableArea__33VWn",Btn1:"query_Btn1__3QUMI",Btn2:"query_Btn2__3UBgh",Btn3:"query_Btn3__1Gx_t",Btn4:"query_Btn4__LfX1e",Btn5:"query_Btn5__31xXH",BtnWithoutImg:"query_BtnWithoutImg__3VpwM",Nodata:"query_Nodata__28Uxq",searchSection:"query_searchSection__1VC3M",BtnGroup:"query_BtnGroup__2maZ5",btnBox:"query_btnBox__PE6HP",dropDown:"query_dropDown__2x5N6",dropDownBtn:"query_dropDownBtn__1YcwJ",Arrow:"query_Arrow__B77Qw",dropDown1:"query_dropDown1__3oVq_",clientStatus:"query_clientStatus__3Ylo0",NavTabs:"query_NavTabs__1cCPe",active:"query_active__3v4-C",TabContent:"query_TabContent__nWqsm",buttonGroup:"query_buttonGroup__1cRR_",downloadBtn:"query_downloadBtn__q4G8a",noDataSection:"query_noDataSection__169rq",staffImage:"query_staffImage__i8tfD",visaStatus:"query_visaStatus__4Yyz1",visaStatusDiv:"query_visaStatusDiv__1X1fX",fromGroup:"query_fromGroup__3cXT7",selectinputBox:"query_selectinputBox__3-l50",checkboxLabel:"query_checkboxLabel__yMdVn",submitBtn:"query_submitBtn__1R00a",templateBtnGroup:"query_templateBtnGroup__1gfcf"}}}]);