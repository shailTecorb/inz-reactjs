(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1318],{46608:function(e,r,t){"use strict";var s=t(77678),a=t(67294),n=t(85893);r.Z=function(e){var r=e.handleCaptch,t=e.setReference,l=a.useRef();return(0,n.jsx)(s.Z,{ref:l,sitekey:"6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI",onChange:function(e){console.log("Captcha value:",e),r(e),t(l)}})}},30168:function(e,r,t){"use strict";var s=t(92809),a=t(85893);function n(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,s)}return t}function l(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?n(Object(t),!0).forEach((function(r){(0,s.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}r.Z=function(e){var r=e.placeholder_name,t=e.type_name,s=e.class_name,n=e.readOnly,o=e.input_name,i=e.onChange,c=e.value,u=e.maxLength,d=e.onKeyPress,p=e.disabled,m=e.register;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("input",l({type:t,placeholder:r,onChange:i,value:c,name:o,maxLength:u,autoComplete:"off","aria-describedby":"emailHelp ",className:s||"",onKeyPress:d,disabled:p,readOnly:n},m))})}},48903:function(e,r,t){"use strict";var s=t(65523),a=t(67294),n=t(10686),l=t.n(n),o=t(85893);r.Z=function(e){return(0,s.Z)(e),(0,o.jsx)(a.Fragment,{children:(0,o.jsx)("div",{className:"col-lg-6 pl-0 d-none d-lg-block",children:(0,o.jsx)("div",{className:"".concat(l().leftBanner),children:(0,o.jsx)("div",{className:l().leftImage,children:(0,o.jsx)("img",{src:"/images/leftBanner.png",className:"img-fluid"})})})})})}},81318:function(e,r,t){"use strict";t.r(r);var s=t(30266),a=t(92809),n=t(809),l=t.n(n),o=t(67294),i=t(10686),c=t.n(i),u=t(99199),d=t(64777),p=t(30168),m=t(48903),h=t(11163),f=t(9669),g=t.n(f),b=t(4878),v=t(41664),x=t(2827),j=t(46608),_=t(85893);function w(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,s)}return t}function y(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?w(Object(t),!0).forEach((function(r){(0,a.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):w(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}r.default=function(){var e=/^[A-Z0-9_-]+([\.][A-Z0-9_]+)*@[A-Z0-9-]+(\.[a-zA-Z]{2,3})+$/i,r=/^(?=.*\d)(?=.*[A-Z])(?=.*[a-z])(?=.*[a-zA-Z!@^#$%&*? "])[a-zA-Z0-9^!@#$*%&?]{6,20}$/,t=(0,h.useRouter)(),a=(0,o.useState)({email:"",password:"",captchaValue:""}),n=a[0],i=a[1],f=(0,o.useState)(!1),w=f[0],D=f[1],N=(0,o.useState)(""),S=N[0],E=(N[1],(0,o.useState)("")),P=E[0],O=E[1],A=(0,o.useState)({}),k=A[0],Z=A[1],I=(0,o.useState)(!1),M=(I[0],I[1],(0,o.useState)()),C=M[0],T=M[1],V=(0,o.useContext)(b.B).setCountryId,R=(0,o.useState)({EmailErrorMsg:"",passwordErrorMsg:"",isDisabledPassword:!1,isDisabledEmail:!1,isDisabled:!1,captchaErrorMsg:""}),L=R[0],z=R[1],G=(0,o.useState)(""),$=(G[0],G[1]);(0,o.useEffect)((function(){O(Math.floor(1e5+9e5*Math.random()))}),[]);(0,o.useEffect)((function(){localStorage.token&&(localStorage.token&&"businessOwner"==localStorage.role?t.replace("/busines/owner/dashboard"):localStorage.token&&"liaAgent"==localStorage.role&&localStorage.countryId&&localStorage.visaType?t.push("/LIA/workplace"):!localStorage.token||"liaAgent"!=localStorage.role||localStorage.countryId||localStorage.visaType||t.push("/LIA/workplace"))}),[]);var B=function(e,r){var t=L.EmailErrorMsg,s=L.isDisabledEmail,a=L.isDisabledPassword,n=L.isDisabledPassword;switch(e){case"email":t=(0,u.oH)(r).error,s=(0,u.oH)(r).isDisabled;break;case"password":a=(0,u.uo)(r).error,n=(0,u.uo)(r).isDisabled}z((function(e){return y(y({},e),{},{EmailErrorMsg:t,isDisabledEmail:s,passwordErrorMsg:a,isDisabledPassword:n})}))},F=function(){var t=(0,s.Z)(l().mark((function t(s){var a,o,i,c,u,p;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(S&&Number(S)!=Number(P)&&(z((function(e){return y(y({},e),{},{EmailErrorMsg:""})})),O(Math.floor(1e5+9e5*Math.random()))),s.preventDefault(),n.email){t.next=6;break}z((function(e){return y(y({},e),{},{EmailErrorMsg:"Please enter email",isDisabledEmail:!1})})),t.next=28;break;case 6:if(e.test(n.email)){t.next=10;break}z((function(e){return y(y({},e),{},{EmailErrorMsg:"Please enter Valid email",isDisabledEmail:!1})})),t.next=28;break;case 10:if(n.password){t.next=14;break}z((function(e){return y(y({},e),{},{passwordErrorMsg:"Please enter password",isDisabledPassword:!1})})),t.next=28;break;case 14:if(r.test(n.password)){t.next=18;break}z((function(e){return y(y({},e),{},{passwordErrorMsg:"Password must be more than 6 characters with 1 uppercase & 1 number.",isDisabledPassword:!1})})),t.next=28;break;case 18:if(n.captchaValue){t.next=22;break}z((function(e){return y(y({},e),{},{captchaErrorMsg:"Please check captcha"})})),t.next=28;break;case 22:return D(!0),g().get("https://ipapi.co/json/").then((function(e){var r=e.data;$(e.country_name),console.log(r,"data"),localStorage.setItem("userCountry",r.country_code)})).catch((function(e){})),t.next=26,(0,d.zX)(n.email,n.password);case 26:200==(a=t.sent).code&&"businessOwner"==a.result.role?(localStorage.setItem("countryId",JSON.stringify(a.result.usrDetail.selectedCountries)),localStorage.setItem("profileDetails",a.result.usrDetail.profileDetails),localStorage.setItem("visaType",JSON.stringify(a.result.usrDetail.selectedVisaTypes)),localStorage.setItem("approved",a.result.usrDetail.approved),localStorage.setItem("email",a.result.usrDetail.email),localStorage.setItem("selectAppointmentMode",a.result.selectAppointmentMode),localStorage.token=a.result.token,localStorage.role=a.result.role,localStorage.selectAppointmentMode=null===a||void 0===a||null===(o=a.result)||void 0===o||null===(i=o.usrDetail)||void 0===i?void 0:i.selectAppointmentMode,D(!1),window.location.href="/busines/owner/dashboard"):200!=a.code||"liaAgent"!=a.result.role&&"manager"!=a.result.role&&"worker"!=a.result.role?(T(a.message),D(!1),null===k||void 0===k||null===(p=k.current)||void 0===p||p.reset()):(localStorage.token=a.result.token,localStorage.selectAppointmentMode=a.result.userDetail.selectAppointmentMode,localStorage.role=a.result.role,localStorage.setItem("userId",a.result.userDetail._id),D(!1),0==a.result.userDetail.selectCountry?window.location.href="/LIA/workplace":0==a.result.userDetail.selectVisaType?(console.log(null===(c=a.result.userDetail)||void 0===c?void 0:c.selectedCountries),V(null===(u=a.result.userDetail)||void 0===u?void 0:u.selectedCountries),window.location.href="/LIA/workplace"):"true"==a.result.userDetail.selectVisaType?localStorage.setItem("visaType",JSON.stringify(a.result.usrDetail.selectedVisaTypes)):window.location.href="/LIA/workplace");case 28:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,_.jsx)(o.Fragment,{children:(0,_.jsx)("section",{className:c().auth,children:(0,_.jsx)("div",{className:c().container,children:(0,_.jsxs)("div",{className:"row mx-0",children:[(0,_.jsx)(m.Z,{}),(0,_.jsx)("div",{className:"col-md-12 col-lg-6 bg-white",children:(0,_.jsxs)("div",{className:c().formSection,children:[(0,_.jsx)("h3",{className:"pb-3",children:"Log In "}),(0,_.jsxs)("form",{children:[(0,_.jsxs)("div",{className:"form-group ".concat(c().fromGroup),children:[(0,_.jsxs)("label",{children:["Email ",(0,_.jsx)("span",{className:c().required,children:"*"})," ",(0,_.jsxs)("span",{className:c().errorMsg,children:[C," "]})," ",(0,_.jsx)("span",{className:c().errorMsg,children:n.email&&e.test(n.email)?"":L.EmailErrorMsg})]}),(0,_.jsx)(p.Z,{type_name:"email",placeholder_name:"Email",input_name:n.email.toLocaleLowerCase(),onChange:function(e){i((function(r){return y(y({},r),{},{email:e.target.value})})),B("email",e.target.value)}}),(0,_.jsx)("img",{src:"/images/email.svg",alt:"email"})]}),(0,_.jsxs)("div",{className:"form-group  ".concat(c().fromGroup),children:[(0,_.jsxs)("label",{children:["Password"," ",(0,_.jsxs)("span",{className:c().required,children:["*"," ",(0,_.jsx)("small",{className:c().errorMsg,children:n.password&&r.test(n.password)?"":L.passwordErrorMsg})]})]}),(0,_.jsx)(p.Z,{type_name:"password",placeholder_name:"Password",input_name:n.password,onChange:function(e){i((function(r){return y(y({},r),{},{password:e.target.value})})),B("password",e.target.value)}}),(0,_.jsx)("img",{src:"/images/password.svg",alt:"email"}),(0,_.jsx)("div",{className:"w-100 text-right",children:(0,_.jsx)("div",{className:c().remeber,children:(0,_.jsx)(v.default,{href:x.Z.Auth.forgot.href,as:x.Z.Auth.forgot.as,children:(0,_.jsx)("a",{children:"Forget Password?"})})})}),(0,_.jsxs)("div",{className:"form-group ".concat(c().fromGroup," ").concat(c().captchCodeSec),children:[(0,_.jsxs)("label",{children:["Captcha"," ",(0,_.jsx)("span",{className:c().errorMsg,children:L.captchaErrorMsg})]}),(0,_.jsx)("h6",{children:(0,_.jsx)(j.Z,{handleCaptch:function(e){console.log("Handle Captcha ",e),i((function(r){return y(y({},r),{},{captchaValue:e})})),setIsDisabled(!0),z((function(e){return y(y({},e),{},{captchaErrorMsg:""})}))},setReference:Z})})]})]}),(0,_.jsxs)("div",{className:"d-flex align-items-center justify-content-between mt-4",children:[(0,_.jsxs)("div",{className:c().remeber,children:[" ","Not Registered yet? \xa0",(0,_.jsx)(v.default,{href:x.Z.Auth.CompanyVerify.href,as:x.Z.Auth.CompanyVerify.as,children:(0,_.jsx)("a",{children:"SIGN UP"})})]}),(0,_.jsx)("div",{className:"d-flex align-items-center",children:(0,_.jsxs)("button",{type:"submit",onClick:F,children:[w&&(0,_.jsx)("i",{className:"fa fa-spinner fa-spin",style:{marginRight:"5px"}}),w&&(0,_.jsx)("span",{children:"WAIT"}),!w&&(0,_.jsx)("span",{children:"SIGN IN"})]})})]})]})]})})]})})})})}},99199:function(e,r,t){"use strict";t.d(r,{Ol:function(){return l},YN:function(){return o},oH:function(){return i},uo:function(){return c},mE:function(){return u},Qx:function(){return d},a$:function(){return p}});t(67294);var s=t(85893),a={},n="alert alert-login",l=function(e){return""===e||void 0===e||null===e?{status:!1,isDisabled:!1,error:(0,s.jsx)("div",{className:n,children:"Please enter your Name. "})}:/^[a-zA-Z ]+$/.test(e)?e.length<2?{status:!1,isDisabled:!1,error:(0,s.jsx)("div",{className:n,children:"Please provide valid name"})}:{status:!0,isDisabled:!0,error:""}:{status:!1,isDisabled:!1,error:(0,s.jsx)("div",{className:n,children:"Please provide valid name"})}},o=function(e){return""===e||void 0===e||null===e?{status:!1,isDisabled:!1,error:(0,s.jsx)("div",{className:n,children:"Please enter your Address. "})}:/^[a-zA-Z ]+$/.test(e)?e.length<5?{status:!1,isDisabled:!1,error:(0,s.jsx)("div",{className:n,children:"Please provide valid Address"})}:{status:!0,isDisabled:!0,error:""}:{status:!1,isDisabled:!1,error:(0,s.jsx)("div",{className:n,children:"Please provide valid Address"})}},i=function(e){return""===e||void 0===e||null===e?{status:!1,isDisabled:!1,error:(0,s.jsx)("div",{className:n,style:a,children:"Please enter Email ID."})}:/^[A-Z0-9_-]+([\.][A-Z0-9_]+)*@[A-Z0-9-]+(\.[a-zA-Z]{2,3})+$/i.test(e)?{status:!0,isDisabled:!0,error:""}:{status:!1,isDisabled:!1,error:(0,s.jsx)("div",{className:n,style:a,children:"Please enter valid Email Address."})}},c=function(e){return""===e||void 0===e||null===e?{status:!1,isDisabled:!1,error:(0,s.jsx)("div",{className:n,style:a,children:"Please enter valid password."})}:/^(?=.*\d)(?=.*[A-Z])(?=.*[a-z])(?=.*[a-zA-Z!@^#$%&*? "])[a-zA-Z0-9^!@#$*%&?]{6,20}$/.test(e)?e.length<6?{status:!1,isDisabled:!1,error:(0,s.jsx)("div",{className:n,style:a,children:"Password must contain 6 or more than 6 characters."})}:{status:!0,isDisabled:!0,error:""}:{isDisabled:!1,error:"Password must be more than 6 characters with 1 uppercase & 1 number."}},u=function(e){return""===(e=e.trim())||void 0===e||null===e?{status:!1,isDisabled:!1,error:(0,s.jsx)("div",{className:n,style:a,children:"Please enter Phone number."})}:{status:!0,isDisabled:!0,error:""}},d=function(e){return""===e||void 0===e||null===e?{status:!1,isDisabled:!1,error:(0,s.jsx)("div",{className:n,style:a,children:"Please enter valid date."})}:{status:!0,isDisabled:!0,error:""}},p=function(e){return!/^[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\s\./0-9/d{10}]*$/.test(e)||e.length<8?{status:!1,isDisabled:!1,error:(0,s.jsx)("div",{className:n,style:a,children:"Please enter valid Phone Number."})}:{status:!0,isDisabled:!0,error:""}}},64777:function(e,r,t){"use strict";t.d(r,{zX:function(){return c},VR:function(){return u}});var s=t(30266),a=t(809),n=t.n(a),l=t(9669),o=t.n(l),i=t(67869);localStorage.token;var c=function(){var e=(0,s.Z)(n().mark((function e(r,t){var s,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().post(i._n+i.T5.BUSINESS_OWNER_LOGIN,{email:r,password:t},{headers:{"Content-Type":"application/json",deviceType:"web"}});case 2:return s=e.sent,e.prev=3,(a=s.data).code,e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(3),console.log("Error",e.t0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(r,t){return e.apply(this,arguments)}}(),u=function(){var e=(0,s.Z)(n().mark((function e(r){var t,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().post(i._n+i.T5.BUSINESS_OWNER_FORGOTPASSWORD,{email:r},{headers:{"Content-Type":"application/json",deviceType:"web"}});case 2:return t=e.sent,e.prev=3,403===(s=t.data).code&&(localStorage.clear(),window.location.href="/"),e.abrupt("return",s);case 9:return e.prev=9,e.t0=e.catch(3),console.log("Error",e.t0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(r){return e.apply(this,arguments)}}()},10686:function(e){e.exports={auth:"auth_auth__XHRKA",leftBanner:"auth_leftBanner__1IuaW",leftImage:"auth_leftImage__ohlkA",formSection:"auth_formSection__2dRgC",edit:"auth_edit__3F14L",userExist:"auth_userExist__3HEZ4",editBtn:"auth_editBtn__12eFu",info:"auth_info__3utoQ",emailImg:"auth_emailImg__1iFQR",remeber:"auth_remeber__Mzm1O",fromGroup:"auth_fromGroup__2lD99",required:"auth_required__3Y4LQ",errorMsg:"auth_errorMsg__1wg-k",verifyNZBN:"auth_verifyNZBN__1g4qn",invalid:"auth_invalid__19DyK",fromVerifiGroup:"auth_fromVerifiGroup__CasxV",captchCodeSec:"auth_captchCodeSec__37abV",captchCodeDiv:"auth_captchCodeDiv__16U1K",refresh:"auth_refresh__19JQC",sideline:"auth_sideline__1NXQ5"}}}]);