(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5895],{28276:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return $}});var s=t(67294),a=t(76513),r=t.n(a),l=t(92809),c=t(30266),i=t(809),o=t.n(i),d=t(30168),u=t(92253),m=t(11163),p=t(88266),h=t(2312),v=t(85893);function x(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);n&&(s=s.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,s)}return t}function f(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?x(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var j=function(e){var n=e.styles,t=(e.appointment_tab,e.activeTab),a=e.active,r=(0,s.useState)([]),l=r[0],i=r[1],d=(0,s.useState)(!1),x=d[0],j=d[1],b=(0,s.useState)(!0),g=b[0],N=b[1],y=(0,s.useState)(!1),w=y[0],S=y[1],k=(0,s.useState)(!1),C=k[0],O=k[1],_=(0,s.useState)(!1),P=_[0],T=_[1],B=(0,s.useState)(""),Z=B[0],I=B[1],D=(0,m.useRouter)(),G=null===l||void 0===l?void 0:l.map((function(e,t){return(0,v.jsx)("div",{className:"form-group ".concat(n.fromGroup),children:(0,v.jsxs)("div",{className:n.CheckBox,children:[(0,v.jsx)("input",{id:t,name:"checkbox",type:"checkbox",checked:e.select,value:e._id,onChange:function(n){E(e)}}),(0,v.jsx)("label",{for:t,className:n.checkboxLabel,children:e.title})]})})}));(0,s.useEffect)((function(){M()}),[]);var M=function(){var e=(0,c.Z)(o().mark((function e(){var n,t,s,a,r,l,c,d,m,p,h,v;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("true"!=String(localStorage.selectAppointmentMode)){e.next=7;break}return e.next=3,(0,u.ms)();case 3:200==(n=e.sent).code&&(i(n.result),(r=null===(t=n.result)||void 0===t?void 0:t.filter((function(e){return e.select}))).length==(null===(s=n.result)||void 0===s?void 0:s.length)?S(!0):r.length==(null===(a=n.result)||void 0===a?void 0:a.length)&&S(!1)),e.next=14;break;case 7:if("false"!=String(localStorage.selectAppointmentMode)){e.next=14;break}return e.next=10,(0,u.Tz)();case 10:200==(l=e.sent).code&&(h=null===(c=l.result)||void 0===c?void 0:c.map((function(e){return f(f({},e),{},{select:!1})})),i(h),(v=null===(d=l.result)||void 0===d?void 0:d.filter((function(e){return e.select}))).length==(null===(m=l.result)||void 0===m?void 0:m.length)?S(!0):v.length==(null===(p=l.result)||void 0===p?void 0:p.length)&&S(!1)),e.next=14;break;case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=(0,c.Z)(o().mark((function e(n){var t,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=null===l||void 0===l?void 0:l.reduce((function(e,t){return t._id==n._id&&(t.select=!t.select),e.push(t),e}),[]),i(t),I(""),(s=t.reduce((function(e,n){return n.select&&e.push(n),e}),[])).length!==l.length?S(!1):s.length==l.length&&S(!0);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),L=function(){var e=(0,c.Z)(o().mark((function e(){var n,t,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],null===l||void 0===l?void 0:l.map((function(e){e.select&&n.push(e._id)})),t={appointmentMode:n},0===n.length){e.next=11;break}return j(!0),e.next=7,(0,u.fe)(t);case 7:200==(s=e.sent).code?(localStorage.setItem("selectAppointmentMode",!0),j(!1),O(!0)):(I(s.message),T(!0),I(null===s||void 0===s?void 0:s.message),j(!1)),e.next=12;break;case 11:I("Please select at least one appointment mode");case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,v.jsxs)("div",{className:"tab-pane fade shadow rounded ".concat(a?"show active ":""," "),id:t,role:"tabpanel","aria-labelledby":"v-pills-appointment-tab",children:[(0,v.jsx)("div",{className:n.rightPageDetail,children:(0,v.jsx)("div",{className:n.rightBox,children:(0,v.jsx)("div",{className:"col-md-12 m-auto",children:(0,v.jsx)("div",{className:n.visaStatus,children:(0,v.jsxs)("div",{className:"row",children:[(0,v.jsx)("div",{className:"col-12",children:(0,v.jsxs)("div",{className:n.visaStatusDiv,children:[(0,v.jsxs)("h6",{style:{color:"red"},children:[Z," "]}),(0,v.jsx)("p",{children:"Select multiple if required"}),G.length>0?(0,v.jsx)("div",{className:"form-group ".concat(n.fromGroup),children:(0,v.jsxs)("div",{className:n.CheckBox,children:[(0,v.jsx)("input",{id:"allselect",name:"allselect",type:"checkbox",checked:w,onChange:function(e){!function(e){N(!g);var n=l.map((function(e){return f(f({},e),{},{select:g})}));i(n),S(g),I("")}()}}),(0,v.jsx)("label",{for:"allselect",className:n.checkboxLabel,children:"Select All"})]})}):"",G]})}),(0,v.jsx)("div",{className:"col-md-12 text-right ".concat(n.buttonGroup),children:(0,v.jsxs)("button",{desabled:x,onClick:L,className:n.SandBtn,children:[x&&(0,v.jsx)("i",{className:"fa fa-spinner fa-spin",style:{marginRight:"5px"}}),x&&(0,v.jsx)("span",{children:"Wait"}),!x&&(0,v.jsx)("span",{children:"Update"})]})})]})})})})}),C&&(0,v.jsx)(p.Z,{open:C,closeModal:function(){O(!1),D.push("/busines/owner/dashboard")},message:"Appointment updated Successfully"}),P&&(0,v.jsx)(h.Z,{open:P,closeModal:function(){T(!1)},message:Z})]})};function b(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);n&&(s=s.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,s)}return t}function g(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?b(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var N=function(e){var n,t,a=e.styles,r=(e.country_tab,e.activeTab),l=e.active,i=(0,s.useState)([]),x=i[0],f=i[1],j=(0,s.useState)(""),b=j[0],N=j[1],y=(0,s.useState)(!1),w=y[0],S=y[1],k=(0,s.useState)(!0),C=k[0],O=k[1],_=(0,s.useState)(!1),P=_[0],T=_[1],B=(0,s.useState)(0),Z=B[0],I=B[1],D=(0,s.useState)(0),G=D[0],M=D[1],E=(0,s.useState)(""),L=E[0],A=E[1],R=(0,s.useState)(!1),U=R[0],W=R[1],F=(0,s.useState)(!1),V=F[0],q=F[1],Y=(0,m.useRouter)(),X=null===x||void 0===x?void 0:x.filter((function(e){var n;return""==b||null!==(n=e.countryId.countryName)&&void 0!==n&&n.toLowerCase().includes(b.toLowerCase())?e:void 0}));t=X.length>0?null===X||void 0===X?void 0:X.map((function(e,n){var t,s;return(0,v.jsx)("div",{className:"form-group ".concat(a.fromGroup),children:(0,v.jsxs)("div",{className:a.CheckBox,children:[(0,v.jsx)("input",{id:n,name:"checkbox",type:"checkbox",checked:e.select,value:null===(t=e.countryId)||void 0===t?void 0:t._id,onChange:function(n){z(e)}}),(0,v.jsx)("label",{for:n,className:a.checkboxLabel,children:null===(s=e.countryId)||void 0===s?void 0:s.countryName})]})})})):[],(0,s.useEffect)((function(){J()}),[]);var J=function(){var e=(0,c.Z)(o().mark((function e(){var n,t,s,a,r,l,c,i,d,m;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.OL)();case 2:200==(n=e.sent).code&&(f(null===(t=n.result)||void 0===t?void 0:t.countries),M(null===(s=n.result)||void 0===s?void 0:s.countries.length),(m=null===(a=n.result)||void 0===a||null===(r=a.countries)||void 0===r?void 0:r.filter((function(e){return e.select}))).length==(null===(l=n.result)||void 0===l||null===(c=l.countries)||void 0===c?void 0:c.length)?T(!0):m.length==(null===(i=n.result)||void 0===i||null===(d=i.countries)||void 0===d?void 0:d.length)&&T(!1),I(m.length));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=(0,c.Z)(o().mark((function e(n){var t,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=null===x||void 0===x?void 0:x.map((function(e){var t,s;return(null===(t=e.countryId)||void 0===t?void 0:t._id)==(null===(s=n.countryId)||void 0===s?void 0:s._id)?g(g({},e),{},{select:!e.select}):g({},e)})),f(t),s=t.reduce((function(e,n){return n.select&&e.push(n),e}),[]),I(s.length),A(""),s.length!==x.length?T(!1):s.length==x.length&&T(!0),A("");case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),K=function(){var e=(0,c.Z)(o().mark((function e(){var n,t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=null===x||void 0===x?void 0:x.map((function(e){var n;if(e.countryId)return{countryId:null===(n=e.countryId)||void 0===n?void 0:n._id,select:e.select}}))).find((function(e){return e.select}))){e.next=9;break}return S(!0),e.next=5,(0,u.hj)(n);case 5:200==(t=e.sent).code?(S(!1),W(!0)):(q(!0),A(null===t||void 0===t?void 0:t.message),S(!1)),e.next=10;break;case 9:A("Please select at least one country");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,v.jsxs)("div",{className:"tab-pane fade shadow rounded ".concat(l?"show active ":""," "),id:r,role:"tabpanel","aria-labelledby":"v-pills-country-tab",children:[(0,v.jsx)("div",{className:a.rightPageDetail,children:(0,v.jsx)("div",{className:a.rightBox,children:(0,v.jsx)("div",{className:"col-md-12 m-auto",children:(0,v.jsxs)("div",{className:a.visaStatus,children:[(0,v.jsx)("h4",{className:"",children:"  Country Setting  "}),(0,v.jsx)("div",{className:"row",children:(0,v.jsx)("div",{className:"col-12 ".concat(a.clientStatus),children:(0,v.jsxs)("ul",{children:[(0,v.jsxs)("li",{children:["Not Selected Countries"," ",(0,v.jsx)("span",{children:G-Z})]}),(0,v.jsxs)("li",{children:["Total Selected Countries ",(0,v.jsx)("span",{children:Z})]})]})})}),(0,v.jsx)("div",{className:"row",children:(0,v.jsx)("div",{className:"col-md-7",children:(0,v.jsxs)("div",{className:a.searchSection,children:[(0,v.jsxs)("div",{className:"input-group",children:[(0,v.jsx)(d.Z,{type_name:"",placeholder_name:"Search by name, id, or internal",inputId:"",input_name:"",class_name:"form-control",value:b,onChange:function(e){N(e.target.value)}}),(0,v.jsx)("div",{className:"input-group-append",children:(0,v.jsx)("a",{className:"btn btn-secondary",children:(0,v.jsx)("button",{disabled:!0,children:(0,v.jsx)("i",{className:"fa fa-search"})})})})]}),(0,v.jsx)("br",{}),(0,v.jsxs)("h6",{style:{color:"red"},children:[L," "]})]})})}),(0,v.jsxs)("div",{className:"row",children:[(0,v.jsx)("div",{className:"col-12",children:(0,v.jsxs)("div",{className:a.visaStatusDiv,children:[(null===(n=t)||void 0===n?void 0:n.length)>0?(0,v.jsx)("div",{className:"form-group ".concat(a.fromGroup),children:0==b.length?(0,v.jsxs)("div",{className:a.CheckBox,children:[(0,v.jsx)("input",{id:"allselect",name:"allselect",type:"checkbox",checked:P,onChange:function(e){!function(e){O(!C);var n=x.map((function(e){return g(g({},e),{},{select:C})}));f(n),T(C),A(""),I(C?x.length:0)}()}}),(0,v.jsx)("label",{for:"allselect",className:a.checkboxLabel,children:"Select All"})]}):""}):0!==x.length?(0,v.jsx)("h6",{style:{color:"red"},children:"No Data Found.. "}):"",t]})}),(0,v.jsx)("div",{className:"col-md-12 text-right ".concat(a.buttonGroup),children:(0,v.jsxs)("button",{onClick:K,className:a.SandBtn,children:[w&&(0,v.jsx)("i",{className:"fa fa-spinner fa-spin",style:{marginRight:"5px"}}),w&&(0,v.jsx)("span",{children:"Wait"}),!w&&(0,v.jsx)("span",{children:"Update"})]})})]})]})})})}),U&&(0,v.jsx)(p.Z,{open:U,closeModal:function(){W(!1),Y.push("/busines/owner/dashboard")},message:"Country setting updated Successfully"}),V&&(0,v.jsx)(h.Z,{open:V,closeModal:function(){q(!1)},message:L})]})},y=t(87536),w=t(35027),S=t(67555),k=t.n(S),C=(t(68886),t(67869)),O=t(604);function _(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);n&&(s=s.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,s)}return t}function P(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?_(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var T=function(e){var n,t,a,r,i,x,f,j=e.styles,b=(e.profile_tab,e.activeTab),g=e.active,N=(0,y.cI)(),S=N.register,_=N.handleSubmit,T=N.formState.errors,B=(N.setError,N.setValue),Z=(0,s.useState)({companyName:"",ownerName:"",businessType:"",email:"",NZBNumber:"",address:"",mobileNumber:"",mobileNumberCountryCode:"",gender:"",sec_email:"",image:"",gst:"",currency:"",countryName:""}),I=Z[0],D=Z[1],G=(0,s.useState)([]),M=G[0],E=G[1],L=(0,s.useState)(null),A=L[0],R=L[1],U=(0,s.useState)(!1),W=U[0],F=U[1],V=(0,s.useState)(!1),q=V[0],Y=V[1],X=(0,s.useState)(!1),J=X[0],z=X[1],K=(0,s.useState)(""),H=K[0],Q=K[1],$=(0,s.useState)([]),ee=$[0],ne=$[1];(0,m.useRouter)();(0,s.useEffect)((function(){te()}),[]);var te=function(){var e=(0,c.Z)(o().mark((function e(){var n,t,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.im)();case 2:200===(n=e.sent).code&&(t=P({},n.result),D((function(e){return P(P(P({},e),t),{},{mobileNumber:n.result.mobileNumberCountryCode?String(n.result.mobileNumberCountryCode)+String(n.result.mobileNumber):""})})),R(n.result.image),B("email",n.result.email),B("NZBNumber",n.result.NZBNumber),B("ownerName",n.result.ownerName),B("businessType",n.result.businessType),B("address",n.result.address),s=n.result.businessType,n.result.currency,ae(s));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(e){R(URL.createObjectURL(e.target.files[0])),D((function(n){return P(P({},n),{},{image:e.target.files[0]})}))},ae=function(){var e=(0,c.Z)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.vJ)();case 2:200===(n=e.sent).code&&E(n.result);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=(0,c.Z)(o().mark((function e(){var n,t,s,a,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=I.mobileNumberCountryCode.length,s=I.mobileNumber,s=null===(n=s)||void 0===n?void 0:n.substring(t),delete(l=I).approved,delete l.crmID,delete l.createdAt,delete l.gender,delete l.isActive,delete l.isDelete,delete l.landlineCountryCode,delete l.loc,delete l.landlineNumber,delete l.otp,delete l.password,delete l.permission,delete l.profileDetails,delete l.selectAppointmentMode,delete l.selectCountry,delete l.selectVisaType,delete l.selectedCountries,delete l.selectedVisaTypes,delete l.subscriptionTenure,delete l.subscriptionType,delete l.verifyOtp,delete l.__v,delete l._id,(a=new FormData).append("image",I.image),a.append("ownerName",I.ownerName),a.append("businessType",I.businessType),a.append("companyName",I.companyName),a.append("address",I.address),a.append("mobileNumberCountryCode",I.mobileNumberCountryCode),a.append("mobileNumber",s),a.append("gst",I.gst),a.append("currency",I.currency),a.append("email",I.email),a.append("sec_email",I.sec_email),a.append("phoneCountryCodeName","IN"),a.append("countryName",I.countryName),Y(!0),e.next=22,(0,u.X9)(a);case 22:200===(r=e.sent).code?(F(!0),Y(!1)):(Q(r.message),z(!0),Y(!1));case 24:case"end":return e.stop()}var l}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=(0,c.Z)(o().mark((function e(n){var t,s,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.persist(),D((function(e){return P(P({},e),{},(0,l.Z)({},n.target.name,n.target.value))})),t=n.target.value,"address"!=n.target.name){e.next=14;break}if(s={input:t,location:{lat:"28.6508353",lng:"77.267595"},key:C.UE,radius:"100"},!(t.length>=3)){e.next=13;break}return e.next=8,(0,O.B9)(s);case 8:a=e.sent,console.log(a,"valueeee"),ne(a),e.next=14;break;case 13:ne([]);case 14:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ce=function(){var e=(0,c.Z)(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(null===n||void 0===n?void 0:n.terms[n.terms.length-1].value,"iiiiiiiiiii"),ne([]),D((function(e){var t;return P(P({},e),{},{address:n.description,countryName:null===n||void 0===n||null===(t=n.terms[n.terms.length-1])||void 0===t?void 0:t.value})}));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ie=ee.map((function(e,n){return(0,v.jsx)("ul",{className:j.searchingList,children:(0,v.jsx)("li",{style:{cursor:"pointer"},onClick:function(){ce(e)},children:(0,v.jsx)("span",{children:null===e||void 0===e?void 0:e.description})})})}));return(0,v.jsxs)("div",{className:"tab-pane fade shadow rounded ".concat(g?"show active ":""," "),id:b,role:"tabpanel","aria-labelledby":"v-pills-profile-tab",children:[(0,v.jsx)("div",{className:j.rightPageDetail,children:(0,v.jsx)("div",{className:j.rightBox,children:(0,v.jsx)("div",{className:"row",children:(0,v.jsx)("div",{className:"col-md-12 m-auto",children:(0,v.jsxs)("div",{className:j.formArea,children:[(0,v.jsx)("div",{class:"row",children:(0,v.jsx)("h4",{className:"col-md-12",children:"Profile"})}),(0,v.jsx)("div",{className:"row",children:(0,v.jsxs)("div",{className:"col-md-12 ".concat(j.profileImg),children:[(0,v.jsxs)("label",{htmlFor:"photo",children:[(0,v.jsx)("input",{id:"photo",type:"file",onChange:se,style:{display:"none"},accept:".pdf, .jpeg , .jpg ,.png"}),(0,v.jsxs)("div",{className:j.avatarUpload,children:[(0,v.jsx)("h6",{children:" Upload "}),(0,v.jsx)("div",{className:j.avatarPreview,children:(0,v.jsx)("img",{onChange:se,src:A||"/images/camera.svg"})})]})]}),(0,v.jsx)("h5",{children:"Company Logo"}),(0,v.jsx)("div",{className:j.NameDetail})]})}),(0,v.jsx)("div",{class:"row",children:(0,v.jsx)("div",{className:"col-md-12",children:(0,v.jsxs)("div",{className:"form-group ".concat(j.fromGroup),children:[(0,v.jsxs)("label",{children:["Company Name ",(0,v.jsx)("span",{className:j.required,children:"*"}),(0,v.jsx)("small",{className:j.errorMsg,children:null===(n=T.companyName)||void 0===n?void 0:n.message})]}),(0,v.jsx)(d.Z,{type_name:"text",placeholder_name:"Company Name",inputId:"Name",value:I.companyName,input_name:"companyName",maxLength:"10",disabled:I.companyName})]})})}),(0,v.jsxs)("div",{class:"row",children:[(0,v.jsx)("div",{className:"col-md-6",children:(0,v.jsxs)("div",{className:"form-group ".concat(j.fromGroup),children:[(0,v.jsxs)("label",{children:["Business Type ",(0,v.jsx)("span",{className:j.required,children:"*"}),(0,v.jsx)("small",{className:j.errorMsg,children:null===(t=T.businessType)||void 0===t?void 0:t.message})]}),(0,v.jsxs)("select",P(P({},S("businessType",{required:{value:!0,message:"Please select business type."},onChange:function(e){return le(e)}})),{},{name:"businessType",value:I.businessType,children:[(0,v.jsx)("option",{value:"",children:"Select"}),M.map((function(e){return(0,v.jsx)("option",{value:e._id,children:e.title})}))]}))]})}),(0,v.jsx)("div",{className:"col-md-6",children:(0,v.jsxs)("div",{className:"form-group ".concat(j.fromGroup),children:[(0,v.jsxs)("label",{children:["Email ",(0,v.jsx)("span",{className:j.required,children:"*"}),(0,v.jsx)("small",{className:j.errorMsg,children:null===(a=T.email)||void 0===a?void 0:a.message})]}),(0,v.jsx)(d.Z,{type_name:"email",placeholder_name:"Email",inputId:"Email",value:I.email,input_name:"email",disabled:I.email,register:S("email",P(P({},w.a.Email),{},{onChange:function(e){return le(e)}}))})]})})]}),(0,v.jsxs)("div",{class:"row",children:[(0,v.jsx)("div",{className:"col-md-4",children:(0,v.jsxs)("div",{className:"form-group ".concat(j.fromGroup),children:[(0,v.jsxs)("label",{children:["NZBN ",(0,v.jsx)("span",{className:j.required,children:"*"}),(0,v.jsx)("small",{className:j.errorMsg,children:null===(r=T.NZBNumber)||void 0===r?void 0:r.message})]}),(0,v.jsx)(d.Z,{type_name:"text",placeholder_name:"NZBN",inputId:"NZBN",value:I.NZBNumber,input_name:"NZBNumber",disabled:I.NZBNumber,register:S("NZBNumber",P(P({},w.a.NZBN_Number),{},{onChange:function(e){return le(e)}}))})]})}),(0,v.jsx)("div",{className:"col-md-4",children:(0,v.jsxs)("div",{className:"form-group ".concat(j.fromGroup),children:[(0,v.jsx)("label",{children:"GST Number"}),(0,v.jsx)(d.Z,{type_name:"text",placeholder_name:"",inputId:"gstNumber",value:I.gst,input_name:"gst",register:S("gst",{required:{value:!1},onChange:function(e){return le(e)}})})]})}),(0,v.jsx)("div",{className:"col-md-4",children:(0,v.jsxs)("div",{className:"form-group ".concat(j.fromGroup),children:[(0,v.jsx)("label",{children:"Currency "}),(0,v.jsxs)("select",P(P({},S("currency",{required:{value:!1,message:"Please select business type."},onChange:function(e){return le(e)}})),{},{value:I.currency,name:"currency",children:[(0,v.jsx)("option",{value:"",children:"Select"}),(0,v.jsx)("option",{value:"USD",children:"USD"}),(0,v.jsx)("option",{value:"INR",children:"INR"})]}))]})})]}),(0,v.jsx)("div",{class:"row",children:(0,v.jsx)("div",{className:"col-md-12",children:(0,v.jsxs)("div",{className:"form-group ".concat(j.fromGroup),children:[(0,v.jsxs)("label",{children:["Address",(0,v.jsx)("span",{className:j.required,children:"*"}),(0,v.jsx)("small",{className:j.errorMsg,children:null===(i=T.address)||void 0===i?void 0:i.message})]}),(0,v.jsx)(d.Z,{type_name:"text",placeholder_name:"Address",inputId:"address",value:I.address.trim(),input_name:"address",register:S("address",P(P({},w.a.Address),{},{onChange:function(e){return le(e)}}))}),ie]})})}),(0,v.jsx)("div",{class:"row",children:(0,v.jsx)("h4",{className:"col-md-12",children:"Contact Person Details"})}),(0,v.jsx)("div",{class:"row",children:(0,v.jsx)("div",{className:"col-md-12",children:(0,v.jsxs)("div",{className:"form-group ".concat(j.fromGroup),children:[(0,v.jsxs)("label",{children:["Full Name ",(0,v.jsx)("span",{className:j.required,children:"*"}),(0,v.jsx)("small",{className:j.errorMsg,children:null===(x=T.ownerName)||void 0===x?void 0:x.message})]}),(0,v.jsx)(d.Z,{type_name:"text",placeholder_name:"Full Name",inputId:"",value:I.ownerName.trim(),input_name:"ownerName",register:S("ownerName",P(P({},w.a.Name),{},{onChange:function(e){return le(e)}}))})]})})}),(0,v.jsxs)("div",{class:"row",children:[(0,v.jsx)("div",{className:"col-md-6",children:(0,v.jsxs)("div",{className:"form-group ".concat(j.fromGroup," ").concat(j.fromGroupPhone),children:[(0,v.jsx)("label",{children:"Mobile Number "}),(0,v.jsx)(k(),{country:"in",value:I.mobileNumber,placeholder:"Enter phone number",name:"mobileNumber",onChange:function(e,n){!function(e,n){var t="+".concat(n.dialCode),s=(n.countryCode,"+".concat(e));D((function(e){return P(P({},e),{},{mobileNumber:s,mobileNumberCountryCode:t})}))}(e,n)},countryCodeEditable:!1})]})}),(0,v.jsx)("div",{className:"col-md-6",children:(0,v.jsxs)("div",{className:"form-group ".concat(j.fromGroup),children:[(0,v.jsxs)("label",{children:["Secondary Email"," ",(0,v.jsx)("small",{className:j.errorMsg,children:null===(f=T.sec_email)||void 0===f?void 0:f.message})]}),(0,v.jsx)(d.Z,{type_name:"emtextail",placeholder_name:"",inputId:"email",value:I.sec_email,input_name:"sec_email",register:S("sec_email",P(P({},w.a.SecondaryEmail),{},{onChange:function(e){return le(e)}}))})]})})]}),(0,v.jsx)("div",{className:"row",children:(0,v.jsx)("div",{className:"col-md-12  text-right ".concat(j.ButtonGroup),children:(0,v.jsxs)("button",{onClick:_(re,(function(e){})),className:j.SandBtn,children:[q&&(0,v.jsx)("i",{className:"fa fa-spinner fa-spin",style:{marginRight:"5px"}}),q&&(0,v.jsx)("span",{children:"Wait"}),!q&&(0,v.jsx)("span",{children:"Save"})]})})})]})})})})}),W&&(0,v.jsx)(p.Z,{open:W,closeModal:function(){F(!1),window.location.href="/busines/owner/dashboard"},message:"Profile Updated Successfully"}),J&&(0,v.jsx)(h.Z,{open:J,closeModal:function(){z(!1)},message:H})]})},B=t(83789),Z=t(30381),I=t.n(Z),D=t(19147),G=t(62266),M="update",E=function(e){var n=e.styles,t=e.activeTab,a=e.active,r=(0,s.useState)(!1),l=r[0],i=r[1],d=(0,s.useState)(!1),m=d[0],p=d[1],h=(0,s.useState)([]),x=h[0],f=h[1],j=(0,s.useState)(!1),b=j[0],g=j[1],N=(0,s.useState)(""),y=N[0],w=N[1],S=(0,s.useState)(""),k=S[0],C=S[1],O=(0,s.useState)({}),_=O[0],P=O[1],T=(0,s.useState)(0),Z=T[0],E=T[1],L=(0,s.useState)(!1),A=L[0],R=L[1],U=function(e,n,t,s){i(!0),w(e),P(t),C(n),E(s)},W=function(){i(!1)};(0,s.useEffect)((function(){F()}),[]);var F=function(){var e=(0,c.Z)(o().mark((function e(){var n,t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={addBy:"businessOwner",perPage:100,page:1},e.next=3,(0,u.KY)(n);case 3:200===(t=e.sent).code&&f(t.result);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=(0,c.Z)(o().mark((function e(){var n,t,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),n={addBy:localStorage.role,templateId:k},e.next=4,(0,u.JB)(n);case 4:t=e.sent,s=[],200==t.code&&(g(!1),p(!1),W(),s.push.apply(s,(0,B.Z)(x).concat([t.result])),f(s));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,v.jsxs)("div",{className:"tab-pane fade shadow rounded ".concat(a?"show active ":""," "),id:t,role:"tabpanel","aria-labelledby":"v-pills-template-tab",children:[(0,v.jsx)("div",{className:n.rightPageDetail,children:(0,v.jsx)("div",{className:n.rightBox,children:(0,v.jsxs)("div",{className:"row mx-0",children:[(0,v.jsxs)("div",{className:"col-md-8",children:[(0,v.jsxs)("div",{className:"row ",children:[(0,v.jsx)("div",{className:"col-md-8",children:(0,v.jsx)("h3",{children:"Template"})}),(0,v.jsx)("div",{className:"col-md-4 ".concat(n.ButtonGroup," text-right"),children:(0,v.jsx)("button",{onClick:function(){return U("add","")},className:"".concat(n.ButtonGroup," ","mt-0 mb-0"),children:"+ Add Template"})})]}),(0,v.jsx)("div",{className:"row",children:(0,v.jsx)("div",{className:"col-12 ".concat(n.tableArea),children:(0,v.jsx)("div",{className:"table-responsive ",children:(0,v.jsxs)("table",{class:"table table-striped",children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{children:"Title"}),(0,v.jsx)("th",{children:"Updated On"}),(0,v.jsx)("th",{children:"Action"})]})}),(0,v.jsx)("tbody",{children:x.map((function(e,t){var s=e._id,a=e.createdAt,r=e.tittle;return console.log(""),(0,v.jsxs)("tr",{children:[(0,v.jsxs)("td",{children:[r," "]}),(0,v.jsx)("td",{children:I()(a).format("D MMM, YYYY")}),(0,v.jsxs)("td",{children:[(0,v.jsx)("button",{onClick:function(){return U("view",s,e)},className:"".concat(n.Btn1," ").concat(n.BtnWithoutImg),children:"View"}),(0,v.jsx)("button",{onClick:function(){return U(M,s,e,t)},className:"".concat(n.Btn5," ").concat(n.BtnWithoutImg),children:"Update"}),(0,v.jsx)("button",{onClick:function(){!function(e){g(!0),C(e)}(s)},className:"".concat(n.Btn3," ").concat(n.BtnWithoutImg),disabled:m,children:k===s?(0,v.jsxs)(v.Fragment,{children:[m&&(0,v.jsx)("i",{className:"fa fa-spinner fa-spin",style:{marginRight:"5px"}}),m&&(0,v.jsx)("span",{children:"Wait"}),!m&&(0,v.jsx)("span",{children:"Duplicate"})]}):(0,v.jsx)("span",{children:"Duplicate"})}),(0,v.jsx)("button",{onClick:function(e){return e.preventDefault()},className:"".concat(n.Btn4," ").concat(n.BtnWithoutImg),children:"Documents"}),(0,v.jsx)("button",{onClick:function(e){return e.preventDefault()},className:"".concat(n.Btn5," ").concat(n.BtnWithoutImg),children:"Print"})]})]})}))})]})})})})]}),(0,v.jsxs)("div",{className:"col-md-4 ".concat(n.templateBtnGroup),children:[(0,v.jsx)("h4",{children:"Agreements/Templates"}),(0,v.jsxs)("button",{className:n.btnBox,children:[(0,v.jsx)("img",{src:"/images/letter.svg",className:"mr-2"}),(0,v.jsx)("span",{children:"Letter"})," ",(0,v.jsx)("img",{src:"/images/blueleftarrow.svg",style:{float:"right",marginTop:"10px"}})]}),(0,v.jsxs)("button",{className:n.btnBox,children:[(0,v.jsx)("img",{src:"/images/emailtemplate.svg",className:"mr-2"}),(0,v.jsx)("span",{children:"Email Templates"})," ",(0,v.jsx)("img",{src:"/images/blueleftarrow.svg",style:{float:"right",marginTop:"10px"}})]}),(0,v.jsxs)("button",{className:n.btnBox,children:[(0,v.jsx)("img",{src:"/images/invoice.svg",className:"mr-2"}),(0,v.jsx)("span",{children:"Invoices"})," ",(0,v.jsx)("img",{src:"/images/blueleftarrow.svg",style:{float:"right",marginTop:"10px"}})]}),(0,v.jsxs)("button",{className:n.btnBox,children:[(0,v.jsx)("img",{src:"/images/filenote.svg",className:"mr-2"}),(0,v.jsx)("span",{children:"Files Notes"})," ",(0,v.jsx)("img",{src:"/images/blueleftarrow.svg",style:{float:"right",marginTop:"10px"}})]}),(0,v.jsxs)("div",{className:"dropdown ".concat(n.dropDown1),children:[(0,v.jsxs)("button",{className:"btn btn-warning dropdown-toggle ".concat(n.dropDownBtn),type:"button","data-toggle":"dropdown",children:[" ",(0,v.jsx)("span",{children:"Document Centre"}),(0,v.jsx)("img",{src:"/images/blueleftarrow.svg",style:{float:"right",marginTop:"10px"}})]}),(0,v.jsxs)("ul",{className:"dropdown-menu",children:[(0,v.jsx)("li",{children:(0,v.jsx)("a",{href:"#",children:"Phantom"})}),(0,v.jsx)("li",{children:(0,v.jsx)("a",{href:"#",children:"Cluster"})})]})]}),(0,v.jsxs)("div",{className:"dropdown ".concat(n.dropDown1),children:[(0,v.jsxs)("button",{className:"btn btn-warning dropdown-toggle ".concat(n.dropDownBtn),type:"button","data-toggle":"dropdown",children:[(0,v.jsx)("span",{children:"Notification Templates"}),(0,v.jsx)("img",{src:"/images/blueleftarrow.svg",style:{float:"right",marginTop:"10px"}})]}),(0,v.jsxs)("ul",{className:"dropdown-menu",children:[(0,v.jsx)("li",{children:(0,v.jsx)("a",{href:"/busines/owner/visa/visaStatusNotification",children:"VISA Status Notification"})}),(0,v.jsx)("li",{children:(0,v.jsx)("a",{href:"#",children:"Reminders"})}),(0,v.jsx)("li",{children:(0,v.jsx)("a",{href:"#",children:"Birthday Greetings"})})]})]})]})]})})}),l&&(0,v.jsx)(G.Z,{openModal:l,closeModal:W,mode:y,templateId:k,selectedData:_,setTemplateList:f,templateList:x,updateTemplate:function(e){var n=x;y===M&&(n[Z]=e),f(n),R(!A)}}),(0,v.jsx)(D.Z,{open:b,isLoading:m,handleClick:V,closeModal:function(e,n){g(!1)}})]})},L=t(47602);t(36666);function A(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);n&&(s=s.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,s)}return t}function R(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?A(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):A(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var U=function(e){var n=e.styles,t=(e.country_tab,e.activeTab),a=e.active,r=(0,s.useState)([]),l=r[0],i=r[1],d=(0,s.useState)(""),x=(d[0],d[1],(0,s.useState)(!1)),f=x[0],j=x[1],b=(0,s.useState)(!0),g=(b[0],b[1],(0,s.useState)(!1)),N=(g[0],g[1]),y=(0,s.useState)(0),w=(y[0],y[1]),S=(0,s.useState)(0),k=(S[0],S[1]),C=(0,s.useState)(""),O=C[0],_=C[1],P=(0,s.useState)(!1),T=P[0],B=P[1],Z=(0,s.useState)(!1),I=Z[0],D=Z[1],G=(0,m.useRouter)();(0,s.useEffect)((function(){M()}),[]);var M=function(){var e=(0,c.Z)(o().mark((function e(){var n,t,s,a,r,l,c,d,m,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.OL)();case 2:200==(n=e.sent).code&&(i(null===(t=n.result)||void 0===t?void 0:t.countries),k(null===(s=n.result)||void 0===s?void 0:s.countries.length),(p=null===(a=n.result)||void 0===a||null===(r=a.countries)||void 0===r?void 0:r.filter((function(e){return e.select}))).length==(null===(l=n.result)||void 0===l||null===(c=l.countries)||void 0===c?void 0:c.length)?N(!0):p.length==(null===(d=n.result)||void 0===d||null===(m=d.countries)||void 0===m?void 0:m.length)&&N(!1),w(p.length));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=(0,c.Z)(o().mark((function e(n){var t,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=null===l||void 0===l?void 0:l.map((function(e){var t,s;return(null===(t=e.countryId)||void 0===t?void 0:t._id)==(null===(s=n.countryId)||void 0===s?void 0:s._id)?R(R({},e),{},{select:!e.select}):R({},e)})),i(t),s=t.reduce((function(e,n){return n.select&&e.push(n),e}),[]),w(s.length),_(""),s.length!==l.length?N(!1):s.length==l.length&&N(!0),_("");case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),A=function(){var e=(0,c.Z)(o().mark((function e(){var n,t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=null===l||void 0===l?void 0:l.map((function(e){var n;if(e.countryId)return{countryId:null===(n=e.countryId)||void 0===n?void 0:n._id,select:e.select}}))).find((function(e){return e.select}))){e.next=9;break}return j(!0),e.next=5,(0,u.hj)(n);case 5:200==(t=e.sent).code?(j(!1),B(!0)):(D(!0),_(null===t||void 0===t?void 0:t.message),j(!1)),e.next=10;break;case 9:_("Please select at least one country");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,v.jsxs)("div",{className:"tab-pane fade shadow rounded ".concat(a?"show active ":""," "),id:t,role:"tabpanel","aria-labelledby":"v-pills-country-tab",children:[(0,v.jsx)("div",{className:n.rightPageDetail,children:(0,v.jsx)("div",{className:n.rightBox,children:(0,v.jsx)("div",{className:"col-md-12 m-auto",children:(0,v.jsxs)("div",{className:"".concat(n.visaStatus," setting leftMenu "),children:[(0,v.jsxs)("div",{className:"row",children:[(0,v.jsx)("div",{className:"col-md-8",children:(0,v.jsxs)("ul",{className:"".concat(n.TopMenu," nav flex-row nav-pills nav-pills-custom"),role:"tablist",children:[(0,v.jsx)("li",{class:"nav-item",children:(0,v.jsx)("a",{class:"nav-link active","data-toggle":"tab",href:"#tabs-1",role:"tab",children:"Working Status"})}),(0,v.jsx)("li",{class:"nav-item",children:(0,v.jsx)("a",{class:"nav-link","data-toggle":"tab",href:"#tabs-2",role:"tab",children:"Submitted Status"})}),(0,v.jsx)("li",{class:"nav-item",children:(0,v.jsx)("a",{class:"nav-link","data-toggle":"tab",href:"#tabs-3",role:"tab",children:"Completed Status"})})]})}),(0,v.jsx)("div",{className:"col-md-4 text-right pt-1 ".concat(n.ButtonGroup),children:(0,v.jsx)(L.Z,{styles:n})})]}),(0,v.jsxs)("div",{class:"tab-content",children:[(0,v.jsx)("div",{class:"tab-pane active",id:"tabs-1",role:"tabpanel",children:(0,v.jsxs)("div",{className:"row",children:[(0,v.jsx)("div",{className:"col-2"}),(0,v.jsx)("div",{className:"col-10",children:(0,v.jsxs)("div",{className:n.visaStatusDiv,children:[(0,v.jsx)("div",{className:"form-group ".concat(n.fromGroup),children:(0,v.jsxs)("div",{className:n.CheckBox,children:[(0,v.jsx)("input",{name:"checkbox",type:"checkbox",checked:!0,value:"Initial Consuitation",onChange:function(e){E(item)}}),(0,v.jsx)("label",{className:n.checkboxLabel,children:"Initial Consuitation"})]})}),(0,v.jsx)("div",{className:"form-group ".concat(n.fromGroup),children:(0,v.jsxs)("div",{className:n.CheckBox,children:[(0,v.jsx)("input",{name:"checkbox",type:"checkbox",checked:!0,value:"Initial Consuitation",onChange:function(e){E(item)}}),(0,v.jsx)("label",{className:n.checkboxLabel,children:"Agreement Sent"})]})}),(0,v.jsx)("div",{className:"form-group ".concat(n.fromGroup),children:(0,v.jsxs)("div",{className:n.CheckBox,children:[(0,v.jsx)("input",{name:"checkbox",type:"checkbox",checked:!0,value:"Initial Consuitation",onChange:function(e){E(item)}}),(0,v.jsx)("label",{className:n.checkboxLabel,children:"List of Documents Sent"})]})}),(0,v.jsx)("div",{className:"form-group ".concat(n.fromGroup),children:(0,v.jsxs)("div",{className:n.CheckBox,children:[(0,v.jsx)("input",{name:"checkbox",type:"checkbox",checked:!0,value:"Initial Consuitation",onChange:function(e){E(item)}}),(0,v.jsx)("label",{className:n.checkboxLabel,children:"Preparing"})]})}),"                                                ",(0,v.jsx)("div",{className:"form-group ".concat(n.fromGroup),children:(0,v.jsxs)("div",{className:n.CheckBox,children:[(0,v.jsx)("input",{name:"checkbox",type:"checkbox",checked:!0,value:"Initial Consuitation",onChange:function(e){E(item)}}),(0,v.jsx)("label",{className:n.checkboxLabel,children:"Waiting for client response"})]})})]})}),(0,v.jsx)("div",{className:"col-md-12 text-right ".concat(n.buttonGroup),children:(0,v.jsxs)("button",{onClick:A,className:n.SandBtn,children:[f&&(0,v.jsx)("i",{className:"fa fa-spinner fa-spin",style:{marginRight:"5px"}}),f&&(0,v.jsx)("span",{children:"Wait"}),!f&&(0,v.jsx)("span",{children:"Update"})]})})]})}),(0,v.jsx)("div",{class:"tab-pane",id:"tabs-2",role:"tabpanel",children:(0,v.jsx)("p",{children:"Second Panel"})}),(0,v.jsx)("div",{class:"tab-pane",id:"tabs-3",role:"tabpanel",children:(0,v.jsx)("p",{children:"Third Panel"})})]})]})})})}),T&&(0,v.jsx)(p.Z,{open:T,closeModal:function(){B(!1),G.push("/busines/owner/dashboard")},message:"Country setting updated Successfully"}),I&&(0,v.jsx)(h.Z,{open:I,closeModal:function(){D(!1)},message:O})]})};function W(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);n&&(s=s.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,s)}return t}function F(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?W(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):W(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var V=function(e){var n=e.styles,t=(e.visa_type_tab,e.activeTab),a=e.active,r=(0,s.useState)([]),l=r[0],i=r[1],x=(0,s.useState)([]),f=x[0],j=x[1],b=(0,s.useState)(""),g=b[0],N=b[1],y=(0,s.useState)(!1),w=y[0],S=y[1],k=(0,s.useState)(!0),C=k[0],O=k[1],_=(0,s.useState)(!1),P=_[0],T=_[1],B=(0,s.useState)(0),Z=B[0],I=B[1],D=(0,s.useState)(0),G=D[0],M=D[1],E=(0,s.useState)(!1),L=(E[0],E[1],(0,s.useState)("")),A=L[0],R=L[1],U=(0,s.useState)(!1),W=U[0],V=U[1],q=(0,s.useState)(!1),Y=q[0],X=q[1],J=(0,s.useState)(""),z=J[0],K=J[1],H=(0,s.useState)(!1),Q=H[0],$=H[1],ee=(0,s.useState)(0),ne=ee[0],te=ee[1],se=(0,s.useState)(0),ae=se[0],re=se[1],le=(0,s.useState)(""),ce=le[0],ie=le[1],oe=(0,m.useRouter)();(0,s.useEffect)((function(){ue()}),[]);var de,ue=function(){var e=(0,c.Z)(o().mark((function e(){var n,t,s,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.OL)();case 2:200==(n=e.sent).code&&(a=null===n||void 0===n||null===(t=n.result)||void 0===t||null===(s=t.countries)||void 0===s?void 0:s.filter((function(e){return e.select})),i(a),I(a.length),M(n.totalCountry));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),me=null===f||void 0===f?void 0:f.filter((function(e){var n;return""==z||null!==e&&void 0!==e&&null!==(n=e.visaType)&&void 0!==n&&n.toLowerCase().includes(z.toLowerCase())?e:void 0}));de=me.length>0?null===me||void 0===me?void 0:me.map((function(e,t){return(0,v.jsx)("div",{className:"form-group ".concat(n.fromGroup),children:(0,v.jsxs)("div",{className:n.CheckBox,children:[(0,v.jsx)("input",{id:t,name:"checkbox",type:"checkbox",checked:e.selected,value:e.visaTypeId,onChange:function(n){he(e)}}),(0,v.jsx)("label",{for:t,className:n.checkboxLabel,children:null===e||void 0===e?void 0:e.visaType})]})})})):[];var pe,he=function(){var e=(0,c.Z)(o().mark((function e(n){var t,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=null===f||void 0===f?void 0:f.reduce((function(e,t){return t.visaTypeId==n.visaTypeId&&(t.selected=!t.selected),e.push(t),e}),[]),j(t),s=t.reduce((function(e,n){return n.selected&&e.push(n),e}),[]),te(s.length),s.length!==f.length?T(!1):s.length==f.length&&T(!0),R("");case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ve=function(){var e=(0,c.Z)(o().mark((function e(){var n,t,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],null===f||void 0===f||f.map((function(e){e.selected&&n.push(e.visaTypeId)})),t={visaTypes:[{countryId:ce,visaTypeId:n}]},0===n.length){e.next=11;break}return S(!0),e.next=7,(0,u.dk)(t);case 7:200==(s=e.sent).code?(V(!0),S(!1),$(!1)):(X(!0),R(null===s||void 0===s?void 0:s.message),S(!1)),e.next=12;break;case 11:R("Please select at least one VISA type");case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xe=null===l||void 0===l?void 0:l.filter((function(e){var n;return""==g||null!==(n=e.countryId)&&void 0!==n&&n.countryName.toLowerCase().includes(g.toLowerCase())?e:void 0}));pe=(null===xe||void 0===xe?void 0:xe.length)>0?null===xe||void 0===xe?void 0:xe.map((function(e,t){var s;return(0,v.jsx)("div",{className:"form-group ".concat(n.fromGroup),children:(0,v.jsx)("div",{className:n.selectinputBox,children:(0,v.jsx)("ul",{style:{listStyle:"none"},children:(0,v.jsxs)("li",{style:{cursor:"pointer"},onClick:function(){var n;fe(null===(n=e.countryId)||void 0===n?void 0:n._id)},children:[(null===e||void 0===e||null===(s=e.countryId)||void 0===s?void 0:s.countryName)+" >"," "]})})})})})):[];var fe=function(){var e=(0,c.Z)(o().mark((function e(n){var t,s,a,r,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $(!0),ie(n),e.next=4,(0,u.Mm)(n);case 4:200==(t=e.sent).code&&(j(t.result),re(t.result.length),(l=null===(s=t.result)||void 0===s?void 0:s.filter((function(e){return e.selected}))).length==(null===(a=t.result)||void 0===a?void 0:a.length)?T(!0):l.length==(null===(r=t.result)||void 0===r?void 0:r.length)&&T(!1),te(l.length));case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,v.jsxs)("div",{className:"tab-pane fade shadow rounded ".concat(a?"show active ":""," "),id:t,role:"tabpanel","aria-labelledby":"v-pills-about-tab",children:[(0,v.jsx)("div",{className:n.rightPageDetail,children:(0,v.jsx)("div",{className:n.rightBox,children:(0,v.jsx)("div",{className:"col-md-12 m-auto",children:(0,v.jsxs)("div",{className:n.visaStatus,children:[pe.length>0?(0,v.jsxs)("div",{className:"row",children:[(0,v.jsx)("div",{className:"col-8 ".concat(n.clientStatus),children:(0,v.jsxs)("ul",{children:[(0,v.jsx)("li",{children:Q?(0,v.jsxs)("span",{children:["Total Selected Visa Type ",ne," "]}):(0,v.jsxs)("span",{children:[" Total Selected Countries ",Z]})}),(0,v.jsx)("li",{children:Q?(0,v.jsxs)("span",{children:[" Total Not Selected Visa Type ",ae-ne," "]}):(0,v.jsxs)("span",{children:[" Not Selected Countries ",G-Z," "]})})]})}),(0,v.jsx)("div",{className:"col-4 ".concat(n.buttonGroup)})]}):"",Q?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"row",children:(0,v.jsx)("div",{className:"col-md-7",children:(0,v.jsx)("div",{className:n.searchSection,children:(0,v.jsxs)("div",{className:"input-group",children:[(0,v.jsx)(d.Z,{type_name:"",placeholder_name:"Search by name, id, or internal",inputId:"",input_name:"",class_name:"form-control",value:z,onChange:function(e){K(e.target.value)}}),(0,v.jsx)("div",{className:"input-group-append",children:(0,v.jsx)("a",{className:"btn btn-secondary",children:(0,v.jsx)("button",{disabled:!0,children:(0,v.jsx)("i",{className:"fa fa-search"})})})})]})})})}),(0,v.jsx)("br",{}),(0,v.jsxs)("h6",{style:{color:"red"},children:[A," "]}),(0,v.jsxs)("div",{className:"row",children:[(0,v.jsx)("div",{className:"col-12",children:de.length>0?(0,v.jsxs)("div",{className:n.visaStatusDiv,children:[0==z.length?(0,v.jsx)("div",{className:"form-group ".concat(n.fromGroup),children:(0,v.jsxs)("div",{className:n.CheckBox,children:[(0,v.jsx)("input",{id:"allselect",name:"allselect",type:"checkbox",checked:P,onChange:function(e){!function(e){O(!C);var n=f.map((function(e){return F(F({},e),{},{selected:C})}));j(n),T(C),te(C?f.length:0)}()}}),(0,v.jsx)("label",{for:"allselect",className:n.checkboxLabel,children:"Select All"})]})}):"",de]}):0!==(null===f||void 0===f?void 0:f.length)?(0,v.jsx)("h6",{style:{color:"red"},children:"No Data Found.. "}):""}),(0,v.jsx)("div",{className:"col-md-12 text-right ".concat(n.buttonGroup),children:(0,v.jsxs)("button",{disabled:w,onClick:ve,className:n.SandBtn,children:[w&&(0,v.jsx)("i",{className:"fa fa-spinner fa-spin",style:{marginRight:"5px"}}),w&&(0,v.jsx)("span",{children:"Wait"}),!w&&(0,v.jsx)("span",{children:"Update"})]})})]})]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"row mt-3",children:(0,v.jsx)("div",{className:"col-md-8 m-auto",children:(0,v.jsx)("div",{className:n.searchSection,children:(0,v.jsx)("div",{className:"input-group",children:(0,v.jsx)(d.Z,{type_name:"",placeholder_name:"Search by name, id, or internal",inputId:"",input_name:"",class_name:"form-control",value:g,onChange:function(e){N(e.target.value)}})})})})}),(0,v.jsx)("div",{className:"row",children:(0,v.jsx)("div",{className:"col-md-8 m-auto",children:(0,v.jsx)("div",{className:n.visaStatusDiv,children:(0,v.jsx)("div",{className:"form-group ".concat(n.fromGroup),children:pe.length>0?pe:(0,v.jsx)("p",{className:n.Nodata,children:" No data found"})})})})})]})]})})})}),W&&(0,v.jsx)(p.Z,{open:W,closeModal:function(){V(!1),oe.push("/busines/owner/dashboard")},message:"Visa type settings updated Successfully"}),Y&&(0,v.jsx)(h.Z,{open:Y,closeModal:function(){X(!1)},message:A})]})},q="appointment_tab",Y="country_tab",X="profile_tab",J="template_tab",z="visa_type_tab",K="visa_status_tab",H=function(){var e=(0,s.useState)(X),n=e[0],t=e[1],a=(0,s.useState)(!1),l=(a[0],a[1]),c=n===q,i=n===Y,o=n===X,d=n===J,u=n===z,m=n===K;return(0,v.jsx)(s.Fragment,{children:(0,v.jsx)("div",{className:r().contentWrapper,children:(0,v.jsxs)("div",{className:r().pageDetailArea,style:{marginTop:"10px"},children:[(0,v.jsx)("h3",{children:"Business Set-Up"}),(0,v.jsxs)("div",{className:"row",children:[(0,v.jsx)("div",{className:"col-lg-12 pr-0  setting leftMenu ",children:(0,v.jsxs)("div",{className:"nav flex-row nav-pills nav-pills-custom ".concat(r().TopMenu),id:"v-pills-tab",role:"tablist","aria-orientation":"vertical",children:[(0,v.jsx)("a",{onClick:function(){t(X),l(!0)},className:"nav-link  shadow ".concat(o?r().active:""),id:"v-pills-profile-tab","data-toggle":"pill",href:"#".concat(X),role:"tab","aria-controls":"v-pills-profile","aria-selected":"false",children:(0,v.jsx)("span",{className:" ",children:"Profile"})}),(0,v.jsx)("a",{onClick:function(){t(K),l(!0)},className:"nav-link  shadow ".concat(m?r().active:""),id:"v-pills-profile-tab","data-toggle":"pill",href:"#".concat(K),role:"tab","aria-controls":"v-pills-profile","aria-selected":"false",children:(0,v.jsx)("span",{className:" ",children:"VISA Status"})}),(0,v.jsx)("a",{onClick:function(){t(Y),l(!0)},className:"nav-link  shadow ".concat(i?r().active:""),id:"v-pills-country-tab","data-toggle":"pill",href:"#v-pills-country",role:"tab","aria-controls":"v-pills-country","aria-selected":"false",children:(0,v.jsx)("span",{className:" ",children:"Country Settings"})}),(0,v.jsx)("a",{onClick:function(){t(z),l(!0)},className:"nav-link  shadow ".concat(u?r().active:""),id:"v-pills-visa-tab","data-toggle":"pill",href:"#v-pills-visa",role:"tab","aria-controls":"v-pills-visa","aria-selected":"false",children:(0,v.jsx)("span",{className:" ",children:"VISA Types Settings"})}),(0,v.jsx)("a",{onClick:function(){t(J),l(!0)},className:"nav-link  shadow ".concat(d?r().active:""),id:"v-pills-template-tab","data-toggle":"pill",href:"#v-pills-template",role:"tab","aria-controls":"v-pills-template","aria-selected":"false",children:(0,v.jsx)("span",{className:"",children:"Template Settings"})}),(0,v.jsx)("a",{onClick:function(){t(q),l(!0)},className:"nav-link  shadow ".concat(c?r().active:""),id:"v-pills-appointment-tab","data-toggle":"pill",href:"#v-pills-appointment",role:"tab","aria-controls":"v-pills-appointment","aria-selected":"true",children:(0,v.jsx)("span",{className:"",children:"Appoinment"})})]})}),(0,v.jsx)("div",{className:"container",children:(0,v.jsx)("div",{className:"col-lg-12 rightSec  ",children:(0,v.jsxs)("div",{className:"tab-content",id:"v-pills-tabContent",children:[c&&(0,v.jsx)(j,{styles:r(),activeTab:n,appointment_tab:q,active:c}),m&&(0,v.jsx)(U,{styles:r(),activeTab:n,appointment_tab:q,active:c}),o&&(0,v.jsx)(T,{styles:r(),activeTab:n,profile_tab:X,active:o}),u&&(0,v.jsx)(V,{styles:r(),activeTab:n,visa_type_tab:z,active:u}),i&&(0,v.jsx)(N,{styles:r(),activeTab:n,country_tab:n,active:i}),d&&(0,v.jsx)(E,{styles:r(),activeTab:n,template_tab:J,active:d})]})})})]})]})})})},Q=t(54865),$=function(){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(Q.Z,{}),(0,v.jsx)(H,{})]})}},7088:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/busines/owner/setup",function(){return t(28276)}])}},function(e){e.O(0,[4885,571,9133,7536,9957,9774,2888,179],(function(){return n=7088,e(e.s=n);var n}));var n=e.O();_N_E=n}]);