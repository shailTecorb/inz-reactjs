(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1277],{30168:function(e,n,t){"use strict";var r=t(92809),s=t(85893);function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(e){var n=e.placeholder_name,t=e.type_name,r=e.class_name,a=e.readOnly,o=e.input_name,i=e.onChange,l=e.value,u=e.maxLength,d=e.onKeyPress,h=e.disabled,p=e.register;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("input",c({type:t,placeholder:n,onChange:i,value:l,name:o,maxLength:u,autoComplete:"off","aria-describedby":"emailHelp ",className:r||"",onKeyPress:d,disabled:h,readOnly:a},p))})}},47846:function(e,n,t){"use strict";var r=t(92809),s=t(83789),a=t(30266),c=t(809),o=t.n(c),i=t(67294),l=t(89665),u=t.n(l),d=t(11163),h=t(30168),p=t(92253),_=t(4878),f=t(30381),j=t.n(f),x=t(58533),m=t(85893);function v(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function b(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?v(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(e){var n=e.type,t=(0,i.useState)([]),r=t[0],c=t[1],l=(0,i.useContext)(_.B),f=l.setEmail,v=l.setStaffId,y=l.setTpe,g=(0,i.useState)(0),w=g[0],N=g[1],O=(0,i.useState)(0),q=O[0],S=O[1],B=(0,d.useRouter)(),D=(0,i.useState)(""),C=D[0],P=D[1],I=(0,i.useState)(!1),k=(I[0],I[1]);(0,i.useEffect)((function(){M()}),[]);var A=(0,i.useState)({page:1,per_page:10,hashMore:!0}),E=A[0],L=A[1],M=function(){var e=(0,a.Z)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),e.next=3,(0,p.Qf)(E.page,E.per_page,localStorage.role,C);case 3:200==(n=e.sent).code?(c(n.result),N(n.result1.allLia),S(n.result1.otherStaff),k(!1)):n.code;case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=(0,a.Z)(o().mark((function e(){var n,t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.Qf)(E.page+1,E.per_page);case 2:200===(n=e.sent).code&&(t=n.result,c((function(e){return[].concat((0,s.Z)(e),(0,s.Z)(t))})),0==n.result.length?L((function(e){return b(b({},e),{},{hashMore:!1})})):setTimeout((function(){c((function(e){return[].concat((0,s.Z)(e),(0,s.Z)(t))}))}),1500));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=(0,a.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(t),y(n),t&&B.push("/busines/owner/editLia");case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),W=null===r||void 0===r?void 0:r.filter((function(e){var n,t;return""==C||null!==e&&void 0!==e&&null!==(n=e.fullName)&&void 0!==n&&n.toLowerCase().includes(null===C||void 0===C?void 0:C.toLowerCase())||null!==e&&void 0!==e&&null!==(t=e.internalId)&&void 0!==t&&t.toLowerCase().includes(null===C||void 0===C?void 0:C.toLowerCase())?e:void 0})).map((function(e,n){var t,r;return(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{scope:"row",children:e.internalId}),(0,m.jsx)("td",{children:"liaAgent"==(null===(t=e.roleId)||void 0===t?void 0:t.role)?"LIA Agent":null===(r=e.roleId)||void 0===r?void 0:r.role}),(0,m.jsx)("td",{children:(0,m.jsxs)("a",{onClick:function(){f(e._id)},children:[e.fullName," "]})}),(0,m.jsxs)("td",{children:[" ",e.phoneNumberCountryCode," ",e.phoneNumber," ",(0,m.jsx)("br",{}),(0,m.jsx)("a",{onClick:function(){f(e._id)},children:e.email})]}),(0,m.jsx)("td",{children:j()(e.dob).format("Do MMM YYYY")}),(0,m.jsx)("td",{children:e.isActive?(0,m.jsx)("span",{style:{color:"#05CE84"},children:"Active "}):(0,m.jsxs)("span",{style:{color:"red"},children:[e.liveStatus," "]})}),(0,m.jsx)("td",{children:(0,m.jsx)("button",{className:"".concat(u().Btn1," ").concat(u().BtnWithoutImg),onClick:function(){G(e._id)},children:"View"})})]})}));return(0,m.jsx)(i.Fragment,{children:(0,m.jsx)("div",{className:u().contentWrapper,children:(0,m.jsx)("div",{className:"container-fuild",children:(0,m.jsxs)("div",{className:"row",children:[(0,m.jsx)("div",{className:"col-12",children:(0,m.jsx)("h3",{children:"All Staffs"})}),(0,m.jsx)("div",{className:"col-12 ".concat(u().clientStatus),children:(0,m.jsxs)("ul",{children:[(0,m.jsxs)("li",{children:["LIA Staffs ",(0,m.jsx)("span",{children:w})]}),(0,m.jsxs)("li",{children:["Other Staffs ",(0,m.jsx)("span",{children:q})]})]})}),(0,m.jsx)("div",{className:"col-12",children:(0,m.jsxs)("div",{className:"row",children:[(0,m.jsx)("div",{className:"col-sm-7",children:(0,m.jsx)("div",{className:u().searchSection,children:(0,m.jsx)("form",{children:(0,m.jsx)("div",{className:"col-md-7 pl-0",children:(0,m.jsx)("div",{className:u().searchSection,children:(0,m.jsx)("form",{children:(0,m.jsxs)("div",{className:"input-group",children:[(0,m.jsx)(h.Z,{type_name:"text",placeholder_name:"Search by name, id",inputId:"",input_name:"",class_name:"form-control",value:C,onChange:function(e){e.preventDefault(),P(e.target.value)}}),(0,m.jsx)("div",{className:"input-group-append",children:(0,m.jsx)("a",{className:"btn btn-secondary",children:(0,m.jsx)("button",{onClick:function(e){e.preventDefault()},children:(0,m.jsx)("i",{className:"fa fa-search"})})})})]})})})})})})}),(0,m.jsxs)("div",{className:"col-sm-5 ".concat(u().buttonGroup),children:[(0,m.jsx)("button",{children:"Print"}),(0,m.jsx)("button",{onClick:function(){B.push("/busines/owner/addLia")},children:"+ Add Staff"})]}),0==r.length?(0,m.jsx)("div",{className:u().noDataSection,children:(0,m.jsx)("div",{className:u().staffImage,children:(0,m.jsx)("img",{src:"/images/nostaff.svg"})})}):(0,m.jsx)("div",{className:"col-12 ".concat(u().tableArea),children:(0,m.jsx)("div",{className:"table-responsive ",children:(0,m.jsx)(x.Z,{dataLength:r.length,next:function(){Z(),L((function(e){return b(b({},e),{},{page:E.page+1})}))},hasMore:E.hashMore,endMessage:0==E.hashMore?(0,m.jsx)("h3",{}):"",children:(0,m.jsxs)("table",{class:"table table-striped",children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:"#ID"}),(0,m.jsx)("th",{children:"Role"}),(0,m.jsx)("th",{children:"Full Name"}),(0,m.jsxs)("th",{children:["Mobile",(0,m.jsx)("br",{}),"Email"]}),(0,m.jsx)("th",{children:"DOB"}),(0,m.jsx)("th",{children:"Status"}),(0,m.jsx)("th",{children:"Action"})]})}),(0,m.jsx)("tbody",{children:W})]})})})})]})})]})})})})}},8123:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return i}});var r=t(67294),s=t(89665),a=t.n(s),c=(t(11163),t(30168),t(85893)),o=function(){return(0,c.jsx)(r.Fragment,{children:(0,c.jsx)("div",{className:a().contentWrapper,children:(0,c.jsx)("div",{className:"container-fuild",children:(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-12",children:(0,c.jsx)("h3",{children:"Reports"})}),(0,c.jsx)("div",{className:"col-12",children:(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-md-7",children:(0,c.jsx)("div",{className:a().searchSection})}),(0,c.jsx)("div",{className:"col-md-5 ".concat(a().buttonGroup)})]})})]})})})})},i=(t(47846),function(){return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(o,{})})})},62165:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/busines/owner/reports",function(){return t(8123)}])},89665:function(e){e.exports={DashboardpageWrap:"query_DashboardpageWrap__OOAVE",pageWrap:"query_pageWrap__26-zG",contentWrapper:"query_contentWrapper__3_zIA",tableArea:"query_tableArea__33VWn",Btn1:"query_Btn1__3QUMI",Btn2:"query_Btn2__3UBgh",Btn3:"query_Btn3__1Gx_t",Btn4:"query_Btn4__LfX1e",Btn5:"query_Btn5__31xXH",BtnWithoutImg:"query_BtnWithoutImg__3VpwM",Nodata:"query_Nodata__28Uxq",searchSection:"query_searchSection__1VC3M",BtnGroup:"query_BtnGroup__2maZ5",btnBox:"query_btnBox__PE6HP",dropDown:"query_dropDown__2x5N6",dropDownBtn:"query_dropDownBtn__1YcwJ",Arrow:"query_Arrow__B77Qw",dropDown1:"query_dropDown1__3oVq_",clientStatus:"query_clientStatus__3Ylo0",NavTabs:"query_NavTabs__1cCPe",active:"query_active__3v4-C",TabContent:"query_TabContent__nWqsm",buttonGroup:"query_buttonGroup__1cRR_",downloadBtn:"query_downloadBtn__q4G8a",noDataSection:"query_noDataSection__169rq",staffImage:"query_staffImage__i8tfD",visaStatus:"query_visaStatus__4Yyz1",visaStatusDiv:"query_visaStatusDiv__1X1fX",fromGroup:"query_fromGroup__3cXT7",selectinputBox:"query_selectinputBox__3-l50",checkboxLabel:"query_checkboxLabel__yMdVn",submitBtn:"query_submitBtn__1R00a",templateBtnGroup:"query_templateBtnGroup__1gfcf"}}},function(e){e.O(0,[4885,7e3,9774,2888,179],(function(){return n=62165,e(e.s=n);var n}));var n=e.O();_N_E=n}]);