(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4938,8350],{70001:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return w}});var t=n(67294),s=(n(55739),n(30266)),a=n(92809),c=n(809),i=n.n(c),o=n(48903),l=n(30168),u=n(46608),d=n(10686),f=n.n(d),h=n(11163),m=(n(4878),n(3728)),p=n(2827),N=n(96245),v=n(41664),j=n(92253),g=n(87536),x=n(35027),b=n(85893);function y(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function Z(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?y(Object(n),!0).forEach((function(r){(0,a.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var O=function(){var e,r=(0,t.useState)({NZBNumber:"",captcha:""}),n=r[0],c=r[1],d=(0,t.useState)(""),y=d[0],O=(d[1],(0,t.useState)("")),w=O[0],S=O[1],_=(0,t.useState)(""),B=_[0],k=_[1],P=(0,t.useState)(!1),E=P[0],C=P[1],V=(0,t.useState)({}),A=V[0],D=V[1],I=(0,g.cI)(),q=I.register,G=I.handleSubmit,R=I.formState.errors,z=I.setError,F=I.setValue;(0,t.useEffect)((function(){var e;if(localStorage.token)localStorage.token&&(console.log("HIO"),H.replace("/busines/owner/dashboard"));else if(null!==(e=H.query)&&void 0!==e&&e.verified){var r=H.query.verified,n=(0,m.zP)(r);if(n){var t=(0,N.Z)(n);console.log("Decoded data, ",t),c((function(e){return Z(Z({},e),{},{NZBNumber:t.number})})),F("NZBNumber",t.number)}else H.replace(p.Z.Auth.CompanyVerify.href)}else H.replace(p.Z.Auth.CompanyVerify.href);console.log("HIO",localStorage.token,localStorage.approved)}),[]),(0,t.useEffect)((function(){}),[]);var H=(0,h.useRouter)(),L=function(){var e=(0,s.Z)(i().mark((function e(r){var t,s,a,c,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Key Data",n),!n.captcha){e.next=9;break}return C(!0),e.next=5,(0,j.qz)(n);case 5:200===(t=e.sent).code?1==(null===(s=t.result)||void 0===s?void 0:s.verify)?(k("Verified"),a=(0,m.U_)(t.result),c=(0,m.P0)(a),H.push("".concat(p.Z.Auth.signup.href,"?verified=").concat(c)),C(!1)):(k("invalid"),C(!1)):(null===A||void 0===A||null===(o=A.current)||void 0===o||o.reset(),z("NZBNumber",{type:"custom",message:t.message}),C(!1),k("")),e.next=10;break;case 9:S("Please check captcha");case 10:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return console.log("Level"),(0,b.jsx)(t.Fragment,{children:(0,b.jsx)("section",{className:f().auth,children:(0,b.jsx)("div",{className:f().container,children:(0,b.jsxs)("div",{className:"row mx-0",children:[(0,b.jsx)(o.Z,{}),(0,b.jsx)("div",{className:"col-md-12 col-lg-6 bg-white",children:(0,b.jsxs)("div",{className:f().formSection,children:[(0,b.jsx)("h3",{className:"pb-3",children:"Sign Up"}),(0,b.jsxs)("h2",{className:f().userExist,children:[y," "]}),(0,b.jsxs)("form",{children:[(0,b.jsxs)("div",{className:"form-group ".concat(f().fromGroup),children:[(0,b.jsxs)("label",{children:["NZBN or ABN ",(0,b.jsx)("span",{className:f().required,children:"*"}),(0,b.jsx)("span",{className:f().errorMsg,children:null===(e=R.NZBNumber)||void 0===e?void 0:e.message})]}),(0,b.jsx)(l.Z,{type_name:"text",placeholder_name:"NZBN or ABN",inputId:"",input_name:"NZBNumber",class_name:"loading",value:n.NZBNumber,register:q("NZBNumber",Z(Z({},x.a.NZBN_Number),{},{onChange:function(e){return function(e){e.persist();var r=String(e.target.value).replace(/ /g,"");c((function(n){return Z(Z({},n),{},(0,a.Z)({},e.target.name,r))})),k("")}(e)}}))}),"Verified"==B&&(0,b.jsx)("span",{className:f().verifyNZBN,children:"Verified"}),"invalid"==B&&(0,b.jsx)("span",{className:"".concat(f().verifyNZBN," ").concat(f().invalid),children:"Invalid"})]}),(0,b.jsx)("div",{className:"row",children:(0,b.jsxs)("div",{className:"form-group col-12 ".concat(f().fromGroup," ").concat(f().captchCodeSec," mb-2"),children:[(0,b.jsxs)("label",{children:["Captcha"," ",(0,b.jsx)("span",{className:f().errorMsg,children:w})]}),(0,b.jsx)("h6",{children:(0,b.jsx)(u.Z,{handleCaptch:function(e){c((function(r){return Z(Z({},r),{},{captcha:e})})),S("")},setReference:D})})]})}),(0,b.jsxs)("div",{className:"d-flex align-items-center justify-content-between mt-4",children:[(0,b.jsxs)("div",{className:f().remeber,children:["Not Registered yet? \xa0",(0,b.jsx)(v.default,{href:p.Z.Auth.login.href,as:p.Z.Auth.login.as,children:(0,b.jsx)("a",{children:"LOG IN"})})]}),(0,b.jsx)("div",{className:"d-flex align-items-center",children:(0,b.jsxs)("button",{type:"submit",disabled:E,onClick:G(L,(function(e){k("")})),children:[E&&(0,b.jsx)("i",{className:"fa fa-spinner fa-spin",style:{marginRight:"5px"}}),E&&(0,b.jsx)("span",{children:"Verifying"}),!E&&(0,b.jsx)("span",{children:"Get Verified"})]})})]})]})]})})]})})})})},w=function(){return(0,b.jsx)(t.Fragment,{children:(0,b.jsx)(O,{})})}},82638:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/verify",function(){return n(70001)}])}},function(e){e.O(0,[7536,8902,1116,604,9774,2888,179],(function(){return r=82638,e(e.s=r);var r}));var r=e.O();_N_E=r}]);