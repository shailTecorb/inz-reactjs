(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6232],{30168:function(e,t,n){"use strict";var r=n(92809),o=n(85893);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.placeholder_name,n=e.type_name,r=e.class_name,a=e.readOnly,c=e.input_name,i=e.onChange,s=e.value,u=e.maxLength,d=e.onKeyPress,_=e.disabled,h=e.register;return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("input",l({type:n,placeholder:t,onChange:i,value:s,name:c,maxLength:u,autoComplete:"off","aria-describedby":"emailHelp ",className:r||"",onKeyPress:d,disabled:_,readOnly:a},h))})}},54372:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var r=n(67294),o=n(83789),a=n(92809),l=n(30266),c=n(809),i=n.n(c),s=n(30168),u=n(89665),d=n.n(u),_=n(11163),h=n(92253),p=n(67018),v=n(89700),f=n(37041),m=n(4878),y=n(85893);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=function(e){var t=e.type,n=(0,_.useRouter)(),a=(0,r.useState)(!1),c=a[0],u=a[1],g=(0,r.useState)(""),b=g[0],j=g[1],w=(0,r.useState)([]),S=w[0],k=w[1],O=(0,r.useState)(0),N=O[0],C=O[1],q=(0,r.useState)(0),B=q[0],I=q[1],P=(0,r.useState)(),D=(P[0],P[1]),G=(0,r.useState)(!1),L=(G[0],G[1]),E=(0,r.useState)(""),A=E[0],W=E[1],Z=(0,r.useState)(!1),T=Z[0],X=Z[1],U=(0,r.useState)(!1),V=U[0],z=U[1],M=(0,r.useContext)(m.B).setCountryId;(0,r.useEffect)((function(){H(),"liaAgent"==localStorage.role?L(!0):"businessOwner"==localStorage.role?L(!1):localStorage.token||(window.location.href="/")}),[]);var R,H=function(){if(Y(),localStorage.countryId){var e=JSON.parse(localStorage.countryId);C(e.length),D(e.length)}},Y=function(){var e=(0,l.Z)(i().mark((function e(){var n,r,o,a,l,c,s,d,_,v,f,m,y,g,j,w,S;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(X(!0),n=localStorage.countryId?localStorage.countryId:[],"businessOwner"!=localStorage.role){e.next=9;break}return e.next=5,(0,h.UG)(b);case 5:200==(r=e.sent).code&&(X(!1),I(r.result.length),c=null===r||void 0===r||null===(o=r.result)||void 0===o||null===(a=o.countryId)||void 0===a?void 0:a.map((function(e,t){return x(x({},e),{},{isChecked:!(null===n||void 0===n||!n.includes(e._id))})})),k(c),s=null===r||void 0===r||null===(l=r.result)||void 0===l?void 0:l.filter((function(e){return e.select})),C(s.length),s.length==(null===r||void 0===r?void 0:r.result.length)?u(!0):u(!1)),e.next=21;break;case 9:if("liaAgent"!=localStorage.role&&"manager"!=localStorage.role){e.next=21;break}if("update"!=t){e.next=17;break}return e.next=13,(0,p.Cp)(b);case 13:200==(d=e.sent).code&&(I(d.result.length),X(!1),f=null===d||void 0===d||null===(_=d.result)||void 0===_?void 0:_.filter((function(e){return e.select})),C(f.length),f.length==(null===d||void 0===d?void 0:d.result.length)?u(!0):u(!1),m=null===d||void 0===d||null===(v=d.result)||void 0===v?void 0:v.map((function(e,t){return x(x({},e),{},{isChecked:e.select})})),k(m)),e.next=21;break;case 17:return e.next=19,(0,p.Bb)(b);case 19:200==(y=e.sent).code?(I(y.result.length),X(!1),w=null===y||void 0===y||null===(g=y.result)||void 0===g?void 0:g.map((function(e,t){return x(x({},e),{},{isChecked:e.select})})),k(w),S=null===y||void 0===y||null===(j=y.result)||void 0===j?void 0:j.filter((function(e){return e.select})),C(S.length),S.length==(null===y||void 0===y?void 0:y.result.length)?u(!0):u(!1)):X(!1);case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=(0,l.Z)(i().mark((function e(t){var r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=(r=null===S||void 0===S?void 0:S.reduce((function(e,t){var n;t.isChecked&&e.push(null===(n=t.countryId)||void 0===n?void 0:n._id);return e}),[])).length){e.next=6;break}t.preventDefault(),W("Please Select Country"),e.next=15;break;case 6:if(z(!0),"businessOwner"!=localStorage.role||0===r.length){e.next=10;break}e.next=15;break;case 10:if("liaAgent"!=localStorage.role||""!=!r){e.next=15;break}return e.next=13,(0,p.GU)(r);case 13:200==(o=e.sent).code?(z(!1),M(r),n.push("/LIA/Selectvisa")):400==o.code&&(W(o.message),z(!1));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=null===S||void 0===S?void 0:S.filter((function(e){var t;return""==b||null!==(t=e.countryId)&&void 0!==t&&t.countryName.toLowerCase().includes(b.toLowerCase())?e:void 0}));return R=(null===J||void 0===J?void 0:J.length)>0?null===J||void 0===J?void 0:J.map((function(e,t){var n,r,a,l;return(0,y.jsx)("div",{className:"form-group ".concat(d().fromGroup),children:(0,y.jsxs)("div",{className:d().selectinputBox,children:[(0,y.jsx)("input",{id:null===(n=e.countryId)||void 0===n?void 0:n._id,name:"checkbox",type:"checkbox",checked:!0===e.isChecked?null===(r=e.countryId)||void 0===r?void 0:r._id:"",onChange:function(t){!function(e,t){for(var n=S,r=0;r<S.length;r++)n[r]._id===e?n[r].isChecked=!n[r].isChecked:n[r].isChecked=n[r].isChecked;var a=n.map((function(t){return x(x({},t),{},{isChecked:t._id==e?!t.isChecked:t.isChecked})})),l=a.filter((function(e){return e.isChecked}));console.log(a,l),k((0,o.Z)(n)),u(!1),W(""),S.length==l.length?u(!1):u(!0)}(e._id,e.isChecked),e.isChecked?C(N+1):C(N-1)}}),(0,y.jsx)("label",{for:null===(a=e.countryId)||void 0===a?void 0:a._id,className:d().checkboxLabel,children:null===(l=e.countryId)||void 0===l?void 0:l.countryName})]})})})):[],(0,y.jsx)(r.Fragment,{children:(0,y.jsx)("div",{className:d().contentWrapper,children:(0,y.jsx)("div",{className:"container-fuild",children:(0,y.jsx)("div",{className:"row",children:(0,y.jsxs)("div",{className:"col-md-9 m-auto",children:[(0,y.jsx)("h3",{className:"",children:" Countries I'm workiing for "}),(0,y.jsxs)("div",{className:d().visaStatus,children:[R.length>0?(0,y.jsx)("div",{className:"row",children:(0,y.jsx)("div",{className:"col-md-8 m-auto  ".concat(d().clientStatus),children:(0,y.jsxs)("ul",{children:[(0,y.jsxs)("li",{children:["Total Selected Countries ",(0,y.jsx)("span",{children:N})]}),(0,y.jsxs)("li",{children:["Not Selected Countries ",(0,y.jsxs)("span",{children:[B-N," "]})]})]})})}):"",(0,y.jsxs)("span",{style:{color:"red",marginLeft:"178px"},children:[" ",A]}),(0,y.jsx)("div",{className:"row mt-3",children:(0,y.jsx)("div",{className:"col-md-8 m-auto",children:(0,y.jsx)("div",{className:d().searchSection,children:(0,y.jsx)("div",{className:"input-group",children:(0,y.jsx)(s.Z,{type_name:"",placeholder_name:"Search by name, id, or internal",inputId:"",input_name:"",class_name:"form-control",value:b,onChange:function(e){j(e.target.value)}})})})})}),(0,y.jsxs)("div",{className:"row",children:[(0,y.jsx)("div",{className:"col-md-8 m-auto",children:(0,y.jsxs)("div",{className:d().visaStatusDiv,children:[(0,y.jsx)("div",{className:"form-group ".concat(d().fromGroup),children:R.length>0&&0==b.length?(0,y.jsxs)("div",{className:d().selectinputBox,children:[(0,y.jsx)("input",{id:"allselect",name:"allselect",type:"checkbox",checked:c,onChange:function(e){!function(e,t){var n=e.target,r=n.name;if(n.checked,"allselect"==r){var o=null===S||void 0===S?void 0:S.map((function(e){return x(x({},e),{},{isChecked:!c})}));k(o),u(!c),c?(C(0),W("")):c||C(o.length)}}(e)}}),(0,y.jsx)("label",{for:"allselect",className:d().checkboxLabel,children:"Select all countries"})]}):""}),T?(0,y.jsx)(v.Z,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:open,children:(0,y.jsx)(f.Z,{color:"inherit"})}):R.length>0?R:(0,y.jsx)("p",{className:d().Nodata,children:" No data found"})]})}),R.length>0?(0,y.jsx)("div",{className:"col-md-7 text-right  m-auto ".concat(d().buttonGroup),children:V?(0,y.jsx)("button",{disabled:!0,className:"mt-5",children:" Loading... "}):(0,y.jsxs)("button",{onClick:F,className:"mt-5",children:["update"==t?"Update":"Next"," "]})}):""]})]})]})})})})})},j=function(){return(0,y.jsx)("div",{children:(0,y.jsx)(b,{})})}},29454:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/LIA/Selectcountry",function(){return n(54372)}])},89665:function(e){e.exports={DashboardpageWrap:"query_DashboardpageWrap__OOAVE",pageWrap:"query_pageWrap__26-zG",contentWrapper:"query_contentWrapper__3_zIA",tableArea:"query_tableArea__33VWn",Btn1:"query_Btn1__3QUMI",Btn2:"query_Btn2__3UBgh",Btn3:"query_Btn3__1Gx_t",Btn4:"query_Btn4__LfX1e",Btn5:"query_Btn5__31xXH",BtnWithoutImg:"query_BtnWithoutImg__3VpwM",Nodata:"query_Nodata__28Uxq",searchSection:"query_searchSection__1VC3M",BtnGroup:"query_BtnGroup__2maZ5",btnBox:"query_btnBox__PE6HP",dropDown:"query_dropDown__2x5N6",dropDownBtn:"query_dropDownBtn__1YcwJ",Arrow:"query_Arrow__B77Qw",dropDown1:"query_dropDown1__3oVq_",clientStatus:"query_clientStatus__3Ylo0",NavTabs:"query_NavTabs__1cCPe",active:"query_active__3v4-C",TabContent:"query_TabContent__nWqsm",buttonGroup:"query_buttonGroup__1cRR_",downloadBtn:"query_downloadBtn__q4G8a",noDataSection:"query_noDataSection__169rq",staffImage:"query_staffImage__i8tfD",visaStatus:"query_visaStatus__4Yyz1",visaStatusDiv:"query_visaStatusDiv__1X1fX",fromGroup:"query_fromGroup__3cXT7",selectinputBox:"query_selectinputBox__3-l50",checkboxLabel:"query_checkboxLabel__yMdVn",submitBtn:"query_submitBtn__1R00a",templateBtnGroup:"query_templateBtnGroup__1gfcf"}}},function(e){e.O(0,[9163,5568,9774,2888,179],(function(){return t=29454,e(e.s=t);var t}));var t=e.O();_N_E=t}]);